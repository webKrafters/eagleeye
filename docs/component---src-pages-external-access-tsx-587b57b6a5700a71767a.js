/*! For license information please see component---src-pages-external-access-tsx-587b57b6a5700a71767a.js.LICENSE.txt */
"use strict";(self.webpackChunkeagleeye_dev=self.webpackChunkeagleeye_dev||[]).push([[1793],{2011:function(e,t,n){n.r(t),n.d(t,{default:function(){return sa}});var r=n(96540),o=n(51314),i=n(9372),a=n(16040),u=n(7689),l=n(22990),s=n(4732),c=(n(1338),n(64467)),f=n(58168),d=n(46942),p=n.n(d),v=n(60436),h=n(89379),m=n(5544),g=n(80045),y=n(82284),b=n(12533),A=n(68210),w=n(30981),E=function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==e?void 0:e.substr(0,4))},C={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=C.F1&&t<=C.F12)return!1;switch(t){case C.ALT:case C.CAPS_LOCK:case C.CONTEXT_MENU:case C.CTRL:case C.DOWN:case C.END:case C.ESC:case C.HOME:case C.INSERT:case C.LEFT:case C.MAC_FF_META:case C.META:case C.NUMLOCK:case C.NUM_CENTER:case C.PAGE_DOWN:case C.PAGE_UP:case C.PAUSE:case C.PRINT_SCREEN:case C.RIGHT:case C.SHIFT:case C.UP:case C.WIN_KEY:case C.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=C.ZERO&&e<=C.NINE)return!0;if(e>=C.NUM_ZERO&&e<=C.NUM_MULTIPLY)return!0;if(e>=C.A&&e<=C.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case C.SPACE:case C.QUESTION_MARK:case C.NUM_PLUS:case C.NUM_MINUS:case C.NUM_PERIOD:case C.NUM_DIVISION:case C.SEMICOLON:case C.DASH:case C.EQUALS:case C.COMMA:case C.PERIOD:case C.SLASH:case C.APOSTROPHE:case C.SINGLE_QUOTE:case C.OPEN_SQUARE_BRACKET:case C.BACKSLASH:case C.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},x=C,M=n(8719),S=r.createContext(null);function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=r.useRef(null),n=r.useRef(null);return r.useEffect(function(){return function(){window.clearTimeout(n.current)}},[]),[function(){return t.current},function(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.current=window.setTimeout(function(){t.current=null},e)}]}var F="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/);function O(e,t){return 0===e.indexOf(t)}function N(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:(0,h.A)({},n);var r={};return Object.keys(e).forEach(function(n){(t.aria&&("role"===n||O(n,"aria-"))||t.data&&O(n,"data-")||t.attr&&F.includes(n))&&(r[n]=e[n])}),r}var k=n(82546),R=n(66588),T=r.createContext(null);var _=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),D="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,I=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),V="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(I):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)};var L=["top","right","bottom","left","width","height","size","weight"],H="undefined"!=typeof MutationObserver,j=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function i(){n&&(n=!1,e()),r&&u()}function a(){V(i)}function u(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);o=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){D&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),H?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){D&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;L.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),W=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},z=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||I},U=X(0,0,0,0);function q(e){return parseFloat(e)||0}function $(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+q(e["border-"+n+"-width"])},0)}function B(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return U;var r=z(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=q(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,u=q(r.width),l=q(r.height);if("border-box"===r.boxSizing&&(Math.round(u+i)!==t&&(u-=$(r,"left","right")+i),Math.round(l+a)!==n&&(l-=$(r,"top","bottom")+a)),!function(e){return e===z(e).document.documentElement}(e)){var s=Math.round(u+i)-t,c=Math.round(l+a)-n;1!==Math.abs(s)&&(u-=s),1!==Math.abs(c)&&(l-=c)}return X(o.left,o.top,u,l)}var K="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof z(e).SVGGraphicsElement}:function(e){return e instanceof z(e).SVGElement&&"function"==typeof e.getBBox};function Y(e){return D?K(e)?function(e){var t=e.getBBox();return X(0,0,t.width,t.height)}(e):B(e):U}function X(e,t,n,r){return{x:e,y:t,width:n,height:r}}var G=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=X(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Y(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Q=function(e,t){var n,r,o,i,a,u,l,s=(r=(n=t).x,o=n.y,i=n.width,a=n.height,u="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(u.prototype),W(l,{x:r,y:o,width:i,height:a,top:o,right:r+i,bottom:a+o,left:r}),l);W(this,{target:e,contentRect:s})},Z=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new _,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof z(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new G(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof z(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new Q(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),J="undefined"!=typeof WeakMap?new WeakMap:new _,ee=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=j.getInstance(),r=new Z(t,n,this);J.set(this,r)};["observe","unobserve","disconnect"].forEach(function(e){ee.prototype[e]=function(){var t;return(t=J.get(this))[e].apply(t,arguments)}});var te=void 0!==I.ResizeObserver?I.ResizeObserver:ee,ne=new Map;var re=new te(function(e){e.forEach(function(e){var t,n=e.target;null===(t=ne.get(n))||void 0===t||t.forEach(function(e){return e(n)})})});var oe=n(23029),ie=n(92901),ae=n(85501),ue=n(29426),le=function(e){(0,ae.A)(n,e);var t=(0,ue.A)(n);function n(){return(0,oe.A)(this,n),t.apply(this,arguments)}return(0,ie.A)(n,[{key:"render",value:function(){return this.props.children}}]),n}(r.Component);function se(e,t){var n=e.children,o=e.disabled,i=r.useRef(null),a=r.useRef(null),u=r.useContext(T),l="function"==typeof n,s=l?n(i):n,c=r.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),f=!l&&r.isValidElement(s)&&(0,M.f3)(s),d=f?(0,M.A9)(s):null,p=(0,M.xK)(d,i),v=function(){var e;return(0,R.Ay)(i.current)||(i.current&&"object"===(0,y.A)(i.current)?(0,R.Ay)(null===(e=i.current)||void 0===e?void 0:e.nativeElement):null)||(0,R.Ay)(a.current)};r.useImperativeHandle(t,function(){return v()});var m=r.useRef(e);m.current=e;var g=r.useCallback(function(e){var t=m.current,n=t.onResize,r=t.data,o=e.getBoundingClientRect(),i=o.width,a=o.height,l=e.offsetWidth,s=e.offsetHeight,f=Math.floor(i),d=Math.floor(a);if(c.current.width!==f||c.current.height!==d||c.current.offsetWidth!==l||c.current.offsetHeight!==s){var p={width:f,height:d,offsetWidth:l,offsetHeight:s};c.current=p;var v=l===Math.round(i)?i:l,g=s===Math.round(a)?a:s,y=(0,h.A)((0,h.A)({},p),{},{offsetWidth:v,offsetHeight:g});null==u||u(y,e,r),n&&Promise.resolve().then(function(){n(y,e)})}},[]);return r.useEffect(function(){var e,t,n=v();return n&&!o&&(e=n,t=g,ne.has(e)||(ne.set(e,new Set),re.observe(e)),ne.get(e).add(t)),function(){return function(e,t){ne.has(e)&&(ne.get(e).delete(t),ne.get(e).size||(re.unobserve(e),ne.delete(e)))}(n,g)}},[i.current,o]),r.createElement(le,{ref:a},f?r.cloneElement(s,{ref:p}):s)}var ce=r.forwardRef(se);function fe(e,t){var n=e.children;return("function"==typeof n?[n]:(0,k.A)(n)).map(function(n,o){var i=(null==n?void 0:n.key)||"".concat("rc-observer-key","-").concat(o);return r.createElement(ce,(0,f.A)({},e,{key:i,ref:0===o?t:void 0}),n)})}var de=r.forwardRef(fe);de.Collection=function(e){var t=e.children,n=e.onBatchResize,o=r.useRef(0),i=r.useRef([]),a=r.useContext(T),u=r.useCallback(function(e,t,r){o.current+=1;var u=o.current;i.current.push({size:e,element:t,data:r}),Promise.resolve().then(function(){u===o.current&&(null==n||n(i.current),i.current=[])}),null==a||a(e,t,r)},[n,a]);return r.createElement(T.Provider,{value:u},t)};var pe=de,ve=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],he=void 0;function me(e,t){var n=e.prefixCls,o=e.invalidate,i=e.item,a=e.renderItem,u=e.responsive,l=e.responsiveDisabled,s=e.registerSize,c=e.itemKey,d=e.className,v=e.style,m=e.children,y=e.display,b=e.order,A=e.component,w=void 0===A?"div":A,E=(0,g.A)(e,ve),C=u&&!y;function x(e){s(c,e)}r.useEffect(function(){return function(){x(null)}},[]);var M,S=a&&i!==he?a(i,{index:b}):m;o||(M={opacity:C?0:1,height:C?0:he,overflowY:C?"hidden":he,order:u?b:he,pointerEvents:C?"none":he,position:C?"absolute":he});var P={};C&&(P["aria-hidden"]=!0);var F=r.createElement(w,(0,f.A)({className:p()(!o&&n,d),style:(0,h.A)((0,h.A)({},M),v)},P,E,{ref:t}),S);return u&&(F=r.createElement(pe,{onResize:function(e){x(e.offsetWidth)},disabled:l},F)),F}var ge=r.forwardRef(me);ge.displayName="Item";var ye=ge,be=n(26956),Ae=n(40961),we=n(25371);function Ee(){var e=r.useRef(null);return function(t){e.current||(e.current=[],function(e){if("undefined"==typeof MessageChannel)(0,we.A)(e);else{var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(void 0)}}(function(){(0,Ae.unstable_batchedUpdates)(function(){e.current.forEach(function(e){e()}),e.current=null})})),e.current.push(t)}}function Ce(e,t){var n=r.useState(t),o=(0,m.A)(n,2),i=o[0],a=o[1];return[i,(0,be.A)(function(t){e(function(){a(t)})})]}var xe=r.createContext(null),Me=["component"],Se=["className"],Pe=["className"],Fe=function(e,t){var n=r.useContext(xe);if(!n){var o=e.component,i=void 0===o?"div":o,a=(0,g.A)(e,Me);return r.createElement(i,(0,f.A)({},a,{ref:t}))}var u=n.className,l=(0,g.A)(n,Se),s=e.className,c=(0,g.A)(e,Pe);return r.createElement(xe.Provider,{value:null},r.createElement(ye,(0,f.A)({ref:t,className:p()(u,s)},l,c)))},Oe=r.forwardRef(Fe);Oe.displayName="RawItem";var Ne=Oe,ke=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","prefix","suffix","component","itemComponent","onVisibleChange"],Re="responsive",Te="invalidate";function _e(e){return"+ ".concat(e.length," ...")}function De(e,t){var n=e.prefixCls,o=void 0===n?"rc-overflow":n,i=e.data,a=void 0===i?[]:i,u=e.renderItem,l=e.renderRawItem,s=e.itemKey,c=e.itemWidth,d=void 0===c?10:c,v=e.ssr,y=e.style,b=e.className,A=e.maxCount,E=e.renderRest,C=e.renderRawRest,x=e.prefix,M=e.suffix,S=e.component,P=void 0===S?"div":S,F=e.itemComponent,O=e.onVisibleChange,N=(0,g.A)(e,ke),k="full"===v,R=Ee(),T=Ce(R,null),_=(0,m.A)(T,2),D=_[0],I=_[1],V=D||0,L=Ce(R,new Map),H=(0,m.A)(L,2),j=H[0],W=H[1],z=Ce(R,0),U=(0,m.A)(z,2),q=U[0],$=U[1],B=Ce(R,0),K=(0,m.A)(B,2),Y=K[0],X=K[1],G=Ce(R,0),Q=(0,m.A)(G,2),Z=Q[0],J=Q[1],ee=Ce(R,0),te=(0,m.A)(ee,2),ne=te[0],re=te[1],oe=(0,r.useState)(null),ie=(0,m.A)(oe,2),ae=ie[0],ue=ie[1],le=(0,r.useState)(null),se=(0,m.A)(le,2),ce=se[0],fe=se[1],de=r.useMemo(function(){return null===ce&&k?Number.MAX_SAFE_INTEGER:ce||0},[ce,D]),ve=(0,r.useState)(!1),he=(0,m.A)(ve,2),me=he[0],ge=he[1],be="".concat(o,"-item"),Ae=Math.max(q,Y),we=A===Re,Me=a.length&&we,Se=A===Te,Pe=Me||"number"==typeof A&&a.length>A,Fe=(0,r.useMemo)(function(){var e=a;return Me?e=null===D&&k?a:a.slice(0,Math.min(a.length,V/d)):"number"==typeof A&&(e=a.slice(0,A)),e},[a,d,D,A,Me]),Oe=(0,r.useMemo)(function(){return Me?a.slice(de+1):a.slice(Fe.length)},[a,Fe,Me,de]),Ne=(0,r.useCallback)(function(e,t){var n;return"function"==typeof s?s(e):null!==(n=s&&(null==e?void 0:e[s]))&&void 0!==n?n:t},[s]),De=(0,r.useCallback)(u||function(e){return e},[u]);function Ie(e,t,n){(ce!==e||void 0!==t&&t!==ae)&&(fe(e),n||(ge(e<a.length-1),null==O||O(e)),void 0!==t&&ue(t))}function Ve(e,t){W(function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r})}function Le(e){return j.get(Ne(Fe[e],e))}(0,w.A)(function(){if(V&&"number"==typeof Ae&&Fe){var e=Z+ne,t=Fe.length,n=t-1;if(!t)return void Ie(0,null);for(var r=0;r<t;r+=1){var o=Le(r);if(k&&(o=o||0),void 0===o){Ie(r-1,void 0,!0);break}if(e+=o,0===n&&e<=V||r===n-1&&e+Le(n)<=V){Ie(n,null);break}if(e+Ae>V){Ie(r-1,e-o-ne+Y);break}}M&&Le(0)+ne>V&&ue(null)}},[V,j,Y,Z,ne,Ne,Fe]);var He=me&&!!Oe.length,je={};null!==ae&&Me&&(je={position:"absolute",left:ae,top:0});var We={prefixCls:be,responsive:Me,component:F,invalidate:Se},ze=l?function(e,t){var n=Ne(e,t);return r.createElement(xe.Provider,{key:n,value:(0,h.A)((0,h.A)({},We),{},{order:t,item:e,itemKey:n,registerSize:Ve,display:t<=de})},l(e,t))}:function(e,t){var n=Ne(e,t);return r.createElement(ye,(0,f.A)({},We,{order:t,key:n,item:e,renderItem:De,itemKey:n,registerSize:Ve,display:t<=de}))},Ue={order:He?de:Number.MAX_SAFE_INTEGER,className:"".concat(be,"-rest"),registerSize:function(e,t){X(t),$(Y)},display:He},qe=E||_e,$e=C?r.createElement(xe.Provider,{value:(0,h.A)((0,h.A)({},We),Ue)},C(Oe)):r.createElement(ye,(0,f.A)({},We,Ue),"function"==typeof qe?qe(Oe):qe),Be=r.createElement(P,(0,f.A)({className:p()(!Se&&o,b),style:y,ref:t},N),x&&r.createElement(ye,(0,f.A)({},We,{responsive:we,responsiveDisabled:!Me,order:-1,className:"".concat(be,"-prefix"),registerSize:function(e,t){J(t)},display:!0}),x),Fe.map(ze),Pe?$e:null,M&&r.createElement(ye,(0,f.A)({},We,{responsive:we,responsiveDisabled:!Me,order:de,className:"".concat(be,"-suffix"),registerSize:function(e,t){re(t)},display:!0,style:je}),M));return we?r.createElement(pe,{onResize:function(e,t){I(t.clientWidth)},disabled:!Me},Be):Be}var Ie=r.forwardRef(De);Ie.displayName="Overflow",Ie.Item=Ne,Ie.RESPONSIVE=Re,Ie.INVALIDATE=Te;var Ve=Ie,Le=function(e){var t,n=e.className,o=e.customizeIcon,i=e.customizeIconProps,a=e.onMouseDown,u=e.onClick,l=e.children;return t="function"==typeof o?o(i):o,r.createElement("span",{className:n,onMouseDown:function(e){e.preventDefault(),a&&a(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:u,"aria-hidden":!0},void 0!==t?t:r.createElement("span",{className:p()(n.split(/\s+/).map(function(e){return"".concat(e,"-icon")}))},l))},He=function(e,t){var n,o,i=e.prefixCls,a=e.id,u=e.inputElement,l=e.disabled,s=e.tabIndex,c=e.autoFocus,f=e.autoComplete,d=e.editable,v=e.activeDescendantId,m=e.value,g=e.maxLength,y=e.onKeyDown,b=e.onMouseDown,w=e.onChange,E=e.onPaste,C=e.onCompositionStart,x=e.onCompositionEnd,S=e.open,P=e.attrs,F=u||r.createElement("input",null),O=F,N=O.ref,k=O.props,R=k.onKeyDown,T=k.onChange,_=k.onMouseDown,D=k.onCompositionStart,I=k.onCompositionEnd,V=k.style;return(0,A.$e)(!("maxLength"in F.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),F=r.cloneElement(F,(0,h.A)((0,h.A)((0,h.A)({type:"search"},k),{},{id:a,ref:(0,M.K4)(t,N),disabled:l,tabIndex:s,autoComplete:f||"off",autoFocus:c,className:p()("".concat(i,"-selection-search-input"),null===(n=F)||void 0===n||null===(o=n.props)||void 0===o?void 0:o.className),role:"combobox","aria-expanded":S,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":v},P),{},{value:d?m:"",maxLength:g,readOnly:!d,unselectable:d?null:"on",style:(0,h.A)((0,h.A)({},V),{},{opacity:d?null:0}),onKeyDown:function(e){y(e),R&&R(e)},onMouseDown:function(e){b(e),_&&_(e)},onChange:function(e){w(e),T&&T(e)},onCompositionStart:function(e){C(e),D&&D(e)},onCompositionEnd:function(e){x(e),I&&I(e)},onPaste:E}))},je=r.forwardRef(He);je.displayName="Input";var We=je;function ze(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var Ue="undefined"!=typeof window&&window.document&&window.document.documentElement;function qe(e){return["string","number"].includes((0,y.A)(e))}function $e(e){var t=void 0;return e&&(qe(e.title)?t=e.title.toString():qe(e.label)&&(t=e.label.toString())),t}function Be(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var Ke=function(e){e.preventDefault(),e.stopPropagation()},Ye=function(e){var t,n,o=e.id,i=e.prefixCls,a=e.values,u=e.open,l=e.searchValue,s=e.autoClearSearchValue,f=e.inputRef,d=e.placeholder,v=e.disabled,h=e.mode,g=e.showSearch,y=e.autoFocus,b=e.autoComplete,A=e.activeDescendantId,w=e.tabIndex,E=e.removeIcon,C=e.maxTagCount,x=e.maxTagTextLength,M=e.maxTagPlaceholder,S=void 0===M?function(e){return"+ ".concat(e.length," ...")}:M,P=e.tagRender,F=e.onToggleOpen,O=e.onRemove,k=e.onInputChange,R=e.onInputPaste,T=e.onInputKeyDown,_=e.onInputMouseDown,D=e.onInputCompositionStart,I=e.onInputCompositionEnd,V=r.useRef(null),L=(0,r.useState)(0),H=(0,m.A)(L,2),j=H[0],W=H[1],z=(0,r.useState)(!1),U=(0,m.A)(z,2),q=U[0],$=U[1],B="".concat(i,"-selection"),K=u||"multiple"===h&&!1===s||"tags"===h?l:"",Y="tags"===h||"multiple"===h&&!1===s||g&&(u||q);function X(e,t,n,o,i){return r.createElement("span",{className:p()("".concat(B,"-item"),(0,c.A)({},"".concat(B,"-item-disabled"),n)),title:$e(e)},r.createElement("span",{className:"".concat(B,"-item-content")},t),o&&r.createElement(Le,{className:"".concat(B,"-item-remove"),onMouseDown:Ke,onClick:i,customizeIcon:E},"×"))}t=function(){W(V.current.scrollWidth)},n=[K],Ue?r.useLayoutEffect(t,n):r.useEffect(t,n);var G=r.createElement("div",{className:"".concat(B,"-search"),style:{width:j},onFocus:function(){$(!0)},onBlur:function(){$(!1)}},r.createElement(We,{ref:f,open:u,prefixCls:i,id:o,inputElement:null,disabled:v,autoFocus:y,autoComplete:b,editable:Y,activeDescendantId:A,value:K,onKeyDown:T,onMouseDown:_,onChange:k,onPaste:R,onCompositionStart:D,onCompositionEnd:I,tabIndex:w,attrs:N(e,!0)}),r.createElement("span",{ref:V,className:"".concat(B,"-search-mirror"),"aria-hidden":!0},K," ")),Q=r.createElement(Ve,{prefixCls:"".concat(B,"-overflow"),data:a,renderItem:function(e){var t=e.disabled,n=e.label,o=e.value,i=!v&&!t,a=n;if("number"==typeof x&&("string"==typeof n||"number"==typeof n)){var l=String(a);l.length>x&&(a="".concat(l.slice(0,x),"..."))}var s=function(t){t&&t.stopPropagation(),O(e)};return"function"==typeof P?function(e,t,n,o,i){return r.createElement("span",{onMouseDown:function(e){Ke(e),F(!u)}},P({label:t,value:e,disabled:n,closable:o,onClose:i}))}(o,a,t,i,s):X(e,a,t,i,s)},renderRest:function(e){var t="function"==typeof S?S(e):S;return X({title:t},t,!1)},suffix:G,itemKey:Be,maxCount:C});return r.createElement(r.Fragment,null,Q,!a.length&&!K&&r.createElement("span",{className:"".concat(B,"-placeholder")},d))},Xe=function(e){var t=e.inputElement,n=e.prefixCls,o=e.id,i=e.inputRef,a=e.disabled,u=e.autoFocus,l=e.autoComplete,s=e.activeDescendantId,c=e.mode,f=e.open,d=e.values,p=e.placeholder,v=e.tabIndex,h=e.showSearch,g=e.searchValue,y=e.activeValue,b=e.maxLength,A=e.onInputKeyDown,w=e.onInputMouseDown,E=e.onInputChange,C=e.onInputPaste,x=e.onInputCompositionStart,M=e.onInputCompositionEnd,S=r.useState(!1),P=(0,m.A)(S,2),F=P[0],O=P[1],k="combobox"===c,R=k||h,T=d[0],_=g||"";k&&y&&!F&&(_=y),r.useEffect(function(){k&&O(!1)},[k,y]);var D=!("combobox"!==c&&!f&&!h)&&!!_,I=$e(T);return r.createElement(r.Fragment,null,r.createElement("span",{className:"".concat(n,"-selection-search")},r.createElement(We,{ref:i,prefixCls:n,id:o,open:f,inputElement:t,disabled:a,autoFocus:u,autoComplete:l,editable:R,activeDescendantId:s,value:_,onKeyDown:A,onMouseDown:w,onChange:function(e){O(!0),E(e)},onPaste:C,onCompositionStart:x,onCompositionEnd:M,tabIndex:v,attrs:N(e,!0),maxLength:k?b:void 0})),!k&&T?r.createElement("span",{className:"".concat(n,"-selection-item"),title:I,style:D?{visibility:"hidden"}:void 0},T.label):null,function(){if(T)return null;var e=D?{visibility:"hidden"}:void 0;return r.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:e},p)}())};var Ge=function(e,t){var n=(0,r.useRef)(null),o=(0,r.useRef)(!1),i=e.prefixCls,a=e.open,u=e.mode,l=e.showSearch,s=e.tokenWithEnter,c=e.autoClearSearchValue,d=e.onSearch,p=e.onSearchSubmit,v=e.onToggleOpen,h=e.onInputKeyDown,g=e.domRef;r.useImperativeHandle(t,function(){return{focus:function(){n.current.focus()},blur:function(){n.current.blur()}}});var y=P(0),b=(0,m.A)(y,2),A=b[0],w=b[1],E=(0,r.useRef)(null),C=function(e){!1!==d(e,!0,o.current)&&v(!0)},M={inputRef:n,onInputKeyDown:function(e){var t,n=e.which;n!==x.UP&&n!==x.DOWN||e.preventDefault(),h&&h(e),n!==x.ENTER||"tags"!==u||o.current||a||null==p||p(e.target.value),t=n,[x.ESC,x.SHIFT,x.BACKSPACE,x.TAB,x.WIN_KEY,x.ALT,x.META,x.WIN_KEY_RIGHT,x.CTRL,x.SEMICOLON,x.EQUALS,x.CAPS_LOCK,x.CONTEXT_MENU,x.F1,x.F2,x.F3,x.F4,x.F5,x.F6,x.F7,x.F8,x.F9,x.F10,x.F11,x.F12].includes(t)||v(!0)},onInputMouseDown:function(){w(!0)},onInputChange:function(e){var t=e.target.value;if(s&&E.current&&/[\r\n]/.test(E.current)){var n=E.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,E.current)}E.current=null,C(t)},onInputPaste:function(e){var t=e.clipboardData.getData("text");E.current=t},onInputCompositionStart:function(){o.current=!0},onInputCompositionEnd:function(e){o.current=!1,"combobox"!==u&&C(e.target.value)}},S="multiple"===u||"tags"===u?r.createElement(Ye,(0,f.A)({},e,M)):r.createElement(Xe,(0,f.A)({},e,M));return r.createElement("div",{ref:g,className:"".concat(i,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout(function(){n.current.focus()}):n.current.focus())},onMouseDown:function(e){var t=A();e.target===n.current||t||"combobox"===u||e.preventDefault(),("combobox"===u||l&&t)&&a||(a&&!1!==c&&d("",!0,!1),v())}},S)},Qe=r.forwardRef(Ge);Qe.displayName="Selector";var Ze=Qe,Je=n(9417),et=n(54808);function tt(e,t,n,r){var o=Ae.unstable_batchedUpdates?function(e){Ae.unstable_batchedUpdates(n,e)}:n;return null!=e&&e.addEventListener&&e.addEventListener(t,o,r),{remove:function(){null!=e&&e.removeEventListener&&e.removeEventListener(t,o,r)}}}var nt=n(20998),rt=(0,r.forwardRef)(function(e,t){var n=e.didUpdate,o=e.getContainer,i=e.children,a=(0,r.useRef)(),u=(0,r.useRef)();(0,r.useImperativeHandle)(t,function(){return{}});var l=(0,r.useRef)(!1);return!l.current&&(0,nt.A)()&&(u.current=o(),a.current=u.current.parentNode,l.current=!0),(0,r.useEffect)(function(){null==n||n(e)}),(0,r.useEffect)(function(){return null===u.current.parentNode&&null!==a.current&&a.current.appendChild(u.current),function(){var e;null===(e=u.current)||void 0===e||null===(e=e.parentNode)||void 0===e||e.removeChild(u.current)}},[]),u.current?Ae.createPortal(i,u.current):null});function ot(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}var it,at=n(90754);function ut(e){var t=e.prefixCls,n=e.motion,r=e.animation,o=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:o?{motionName:o}:null)}function lt(e){var t=e.prefixCls,n=e.visible,o=e.zIndex,i=e.mask,a=e.maskMotion,u=e.maskAnimation,l=e.maskTransitionName;if(!i)return null;var s={};return(a||l||u)&&(s=(0,h.A)({motionAppear:!0},ut({motion:a,prefixCls:t,transitionName:l,animation:u}))),r.createElement(at.Ay,(0,f.A)({},s,{visible:n,removeOnLeave:!0}),function(e){var n=e.className;return r.createElement("div",{style:{zIndex:o},className:p()("".concat(t,"-mask"),n)})})}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach(function(t){dt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ft(e){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pt={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function vt(){if(void 0!==it)return it;it="";var e=document.createElement("p").style;for(var t in pt)t+"Transform"in e&&(it=t);return it}function ht(){return vt()?"".concat(vt(),"TransitionProperty"):"transitionProperty"}function mt(){return vt()?"".concat(vt(),"Transform"):"transform"}function gt(e,t){var n=ht();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function yt(e,t){var n=mt();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var bt,At=/matrix\((.*)\)/,wt=/matrix3d\((.*)\)/;function Et(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function Ct(e,t,n){var r=n;if("object"!==ft(t))return void 0!==r?("number"==typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):bt(e,t);for(var o in t)t.hasOwnProperty(o)&&Ct(e,o,t[o])}function xt(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!=typeof n){var o=e.document;"number"!=typeof(n=o.documentElement[r])&&(n=o.body[r])}return n}function Mt(e){return xt(e)}function St(e){return xt(e,!0)}function Pt(e){var t=function(e){var t,n,r,o=e.ownerDocument,i=o.body,a=o&&o.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=a.clientLeft||i.clientLeft||0,top:r-=a.clientTop||i.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=Mt(r),t.top+=St(r),t}function Ft(e){return null!=e&&e==e.window}function Ot(e){return Ft(e)?e.document:9===e.nodeType?e:e.ownerDocument}var Nt=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),kt=/^(top|right|bottom|left)$/,Rt="currentStyle",Tt="runtimeStyle",_t="left";function Dt(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function It(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function Vt(e,t,n){"static"===Ct(e,"position")&&(e.style.position="relative");var r=-999,o=-999,i=Dt("left",n),a=Dt("top",n),u=It(i),l=It(a);"left"!==i&&(r=999),"top"!==a&&(o=999);var s,c="",f=Pt(e);("left"in t||"top"in t)&&(c=(s=e).style.transitionProperty||s.style[ht()]||"",gt(e,"none")),"left"in t&&(e.style[u]="",e.style[i]="".concat(r,"px")),"top"in t&&(e.style[l]="",e.style[a]="".concat(o,"px")),Et(e);var d=Pt(e),p={};for(var v in t)if(t.hasOwnProperty(v)){var h=Dt(v,n),m="left"===v?r:o,g=f[v]-d[v];p[h]=h===v?m+g:m-g}Ct(e,p),Et(e),("left"in t||"top"in t)&&gt(e,c);var y={};for(var b in t)if(t.hasOwnProperty(b)){var A=Dt(b,n),w=t[b]-f[b];y[A]=b===A?p[A]+w:p[A]-w}Ct(e,y)}function Lt(e,t){var n=Pt(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(mt());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),o={x:r.x,y:r.y};"left"in t&&(o.x=r.x+t.left-n.left),"top"in t&&(o.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(mt());if(r&&"none"!==r){var o,i=r.match(At);i?((o=(i=i[1]).split(",").map(function(e){return parseFloat(e,10)}))[4]=t.x,o[5]=t.y,yt(e,"matrix(".concat(o.join(","),")"))):((o=r.match(wt)[1].split(",").map(function(e){return parseFloat(e,10)}))[12]=t.x,o[13]=t.y,yt(e,"matrix3d(".concat(o.join(","),")")))}else yt(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,o)}function Ht(e,t){for(var n=0;n<e.length;n++)t(e[n])}function jt(e){return"border-box"===bt(e,"boxSizing")}"undefined"!=typeof window&&(bt=window.getComputedStyle?function(e,t,n){var r=n,o="",i=Ot(e);return(r=r||i.defaultView.getComputedStyle(e,null))&&(o=r.getPropertyValue(t)||r[t]),o}:function(e,t){var n=e[Rt]&&e[Rt][t];if(Nt.test(n)&&!kt.test(t)){var r=e.style,o=r[_t],i=e[Tt][_t];e[Tt][_t]=e[Rt][_t],r[_t]="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r[_t]=o,e[Tt][_t]=i}return""===n?"auto":n});var Wt=["margin","border","padding"];function zt(e,t,n){var r,o,i,a=0;for(o=0;o<t.length;o++)if(r=t[o])for(i=0;i<n.length;i++){var u=void 0;u="border"===r?"".concat(r).concat(n[i],"Width"):r+n[i],a+=parseFloat(bt(e,u))||0}return a}var Ut={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function qt(e,t,n){var r=n;if(Ft(e))return"width"===t?Ut.viewportWidth(e):Ut.viewportHeight(e);if(9===e.nodeType)return"width"===t?Ut.docWidth(e):Ut.docHeight(e);var o="width"===t?["Left","Right"]:["Top","Bottom"],i="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),a=jt(e),u=0;(null==i||i<=0)&&(i=void 0,(null==(u=bt(e,t))||Number(u)<0)&&(u=e.style[t]||0),u=Math.floor(parseFloat(u))||0),void 0===r&&(r=a?1:-1);var l=void 0!==i||a,s=i||u;return-1===r?l?s-zt(e,["border","padding"],o):u:l?1===r?s:s+(2===r?-zt(e,["border"],o):zt(e,["margin"],o)):u+zt(e,Wt.slice(r),o)}Ht(["Width","Height"],function(e){Ut["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],Ut["viewport".concat(e)](n))},Ut["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,o=r.body,i=r.documentElement[n];return"CSS1Compat"===r.compatMode&&i||o&&o[n]||i}});var $t={position:"absolute",visibility:"hidden",display:"block"};function Bt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=t[0];return 0!==o.offsetWidth?r=qt.apply(void 0,t):function(e,t,n){var r,o={},i=e.style;for(r in t)t.hasOwnProperty(r)&&(o[r]=i[r],i[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(i[r]=o[r])}(o,$t,function(){r=qt.apply(void 0,t)}),r}function Kt(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}Ht(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Ut["outer".concat(t)]=function(t,n){return t&&Bt(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];Ut[e]=function(t,r){var o=r;return void 0!==o?t?(jt(t)&&(o+=zt(t,["padding","border"],n)),Ct(t,e,o)):void 0:t&&Bt(t,e,-1)}});var Yt={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:Ot,offset:function(e,t,n){if(void 0===t)return Pt(e);!function(e,t,n){if(n.ignoreShake){var r=Pt(e),o=r.left.toFixed(0),i=r.top.toFixed(0),a=t.left.toFixed(0),u=t.top.toFixed(0);if(o===a&&i===u)return}n.useCssRight||n.useCssBottom?Vt(e,t,n):n.useCssTransform&&mt()in document.body.style?Lt(e,t):Vt(e,t,n)}(e,t,n||{})},isWindow:Ft,each:Ht,css:Ct,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:Kt,getWindowScrollLeft:function(e){return Mt(e)},getWindowScrollTop:function(e){return St(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)Yt.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};Kt(Yt,Ut);var Xt=Yt.getParent;function Gt(e){if(Yt.isWindow(e)||9===e.nodeType)return null;var t,n=Yt.getDocument(e).body,r=Yt.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:Xt(e);for(t=Xt(e);t&&t!==n&&9!==t.nodeType;t=Xt(t))if("static"!==(r=Yt.css(t,"position")))return t;return null}var Qt=Yt.getParent;function Zt(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=Gt(e),o=Yt.getDocument(e),i=o.defaultView||o.parentWindow,a=o.body,u=o.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===a||r===u||"visible"===Yt.css(r,"overflow")){if(r===a||r===u)break}else{var l=Yt.offset(r);l.left+=r.clientLeft,l.top+=r.clientTop,n.top=Math.max(n.top,l.top),n.right=Math.min(n.right,l.left+r.clientWidth),n.bottom=Math.min(n.bottom,l.top+r.clientHeight),n.left=Math.max(n.left,l.left)}r=Gt(r)}var s=null;Yt.isWindow(e)||9===e.nodeType||(s=e.style.position,"absolute"===Yt.css(e,"position")&&(e.style.position="fixed"));var c=Yt.getWindowScrollLeft(i),f=Yt.getWindowScrollTop(i),d=Yt.viewportWidth(i),p=Yt.viewportHeight(i),v=u.scrollWidth,h=u.scrollHeight,m=window.getComputedStyle(a);if("hidden"===m.overflowX&&(v=i.innerWidth),"hidden"===m.overflowY&&(h=i.innerHeight),e.style&&(e.style.position=s),t||function(e){if(Yt.isWindow(e)||9===e.nodeType)return!1;var t=Yt.getDocument(e),n=t.body,r=null;for(r=Qt(e);r&&r!==n&&r!==t;r=Qt(r))if("fixed"===Yt.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,c),n.top=Math.max(n.top,f),n.right=Math.min(n.right,c+d),n.bottom=Math.min(n.bottom,f+p);else{var g=Math.max(v,c+d);n.right=Math.min(n.right,g);var y=Math.max(h,f+p);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function Jt(e){var t,n,r;if(Yt.isWindow(e)||9===e.nodeType){var o=Yt.getWindow(e);t={left:Yt.getWindowScrollLeft(o),top:Yt.getWindowScrollTop(o)},n=Yt.viewportWidth(o),r=Yt.viewportHeight(o)}else t=Yt.offset(e),n=Yt.outerWidth(e),r=Yt.outerHeight(e);return t.width=n,t.height=r,t}function en(e,t){var n=t.charAt(0),r=t.charAt(1),o=e.width,i=e.height,a=e.left,u=e.top;return"c"===n?u+=i/2:"b"===n&&(u+=i),"c"===r?a+=o/2:"r"===r&&(a+=o),{left:a,top:u}}function tn(e,t,n,r,o){var i=en(t,n[1]),a=en(e,n[0]),u=[a.left-i.left,a.top-i.top];return{left:Math.round(e.left-u[0]+r[0]-o[0]),top:Math.round(e.top-u[1]+r[1]-o[1])}}function nn(e,t,n){return e.left<n.left||e.left+t.width>n.right}function rn(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function on(e,t,n){var r=[];return Yt.each(e,function(e){r.push(e.replace(t,function(e){return n[e]}))}),r}function an(e,t){return e[t]=-e[t],e}function un(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function ln(e,t){e[0]=un(e[0],t.width),e[1]=un(e[1],t.height)}function sn(e,t,n,r){var o=n.points,i=n.offset||[0,0],a=n.targetOffset||[0,0],u=n.overflow,l=n.source||e;i=[].concat(i),a=[].concat(a);var s={},c=0,f=Zt(l,!(!(u=u||{})||!u.alwaysByViewport)),d=Jt(l);ln(i,d),ln(a,t);var p=tn(d,t,o,i,a),v=Yt.merge(d,p);if(f&&(u.adjustX||u.adjustY)&&r){if(u.adjustX&&nn(p,d,f)){var h=on(o,/[lr]/gi,{l:"r",r:"l"}),m=an(i,0),g=an(a,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(tn(d,t,h,m,g),d,f)||(c=1,o=h,i=m,a=g)}if(u.adjustY&&rn(p,d,f)){var y=on(o,/[tb]/gi,{t:"b",b:"t"}),b=an(i,1),A=an(a,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(tn(d,t,y,b,A),d,f)||(c=1,o=y,i=b,a=A)}c&&(p=tn(d,t,o,i,a),Yt.mix(v,p));var w=nn(p,d,f),E=rn(p,d,f);if(w||E){var C=o;w&&(C=on(o,/[lr]/gi,{l:"r",r:"l"})),E&&(C=on(o,/[tb]/gi,{t:"b",b:"t"})),o=C,i=n.offset||[0,0],a=n.targetOffset||[0,0]}s.adjustX=u.adjustX&&w,s.adjustY=u.adjustY&&E,(s.adjustX||s.adjustY)&&(v=function(e,t,n,r){var o=Yt.clone(e),i={width:t.width,height:t.height};return r.adjustX&&o.left<n.left&&(o.left=n.left),r.resizeWidth&&o.left>=n.left&&o.left+i.width>n.right&&(i.width-=o.left+i.width-n.right),r.adjustX&&o.left+i.width>n.right&&(o.left=Math.max(n.right-i.width,n.left)),r.adjustY&&o.top<n.top&&(o.top=n.top),r.resizeHeight&&o.top>=n.top&&o.top+i.height>n.bottom&&(i.height-=o.top+i.height-n.bottom),r.adjustY&&o.top+i.height>n.bottom&&(o.top=Math.max(n.bottom-i.height,n.top)),Yt.mix(o,i)}(p,d,f,s))}return v.width!==d.width&&Yt.css(l,"width",Yt.width(l)+v.width-d.width),v.height!==d.height&&Yt.css(l,"height",Yt.height(l)+v.height-d.height),Yt.offset(l,{left:v.left,top:v.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:o,offset:i,targetOffset:a,overflow:s}}function cn(e,t,n){var r=n.target||t,o=Jt(r),i=!function(e,t){var n=Zt(e,t),r=Jt(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return sn(e,o,n,i)}cn.__getOffsetParent=Gt,cn.__getVisibleRectForElement=Zt;var fn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function e(t,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=r.has(t);if((0,A.Ay)(!a,"Warning: There may be circular references"),a)return!1;if(t===o)return!0;if(n&&i>1)return!1;r.add(t);var u=i+1;if(Array.isArray(t)){if(!Array.isArray(o)||t.length!==o.length)return!1;for(var l=0;l<t.length;l++)if(!e(t[l],o[l],u))return!1;return!0}if(t&&o&&"object"===(0,y.A)(t)&&"object"===(0,y.A)(o)){var s=Object.keys(t);return s.length===Object.keys(o).length&&s.every(function(n){return e(t[n],o[n],u)})}return!1}(e,t)};function dn(e,t){var n=null,r=null;var o=new te(function(e){var o=(0,m.A)(e,1)[0].target;if(document.documentElement.contains(o)){var i=o.getBoundingClientRect(),a=i.width,u=i.height,l=Math.floor(a),s=Math.floor(u);n===l&&r===s||Promise.resolve().then(function(){t({width:l,height:s})}),n=l,r=s}});return e&&o.observe(e),function(){o.disconnect()}}function pn(e){return"function"!=typeof e?null:e()}function vn(e){return"object"===(0,y.A)(e)&&e?e:null}var hn=function(e,t){var n=e.children,o=e.disabled,i=e.target,a=e.align,u=e.onAlign,l=e.monitorWindowResize,s=e.monitorBufferTime,c=void 0===s?0:s,f=r.useRef({}),d=r.useRef(),p=r.Children.only(n),v=r.useRef({});v.current.disabled=o,v.current.target=i,v.current.align=a,v.current.onAlign=u;var h=function(e,t){var n=r.useRef(!1),o=r.useRef(null);function i(){window.clearTimeout(o.current)}return[function r(a){if(i(),n.current&&!0!==a)o.current=window.setTimeout(function(){n.current=!1,r()},t);else{if(!1===e(a))return;n.current=!0,o.current=window.setTimeout(function(){n.current=!1},t)}},function(){n.current=!1,i()}]}(function(){var e=v.current,t=e.disabled,n=e.target,r=e.align,o=e.onAlign,i=d.current;if(!t&&n&&i){var a,u=pn(n),l=vn(n);f.current.element=u,f.current.point=l,f.current.align=r;var s=document.activeElement;return u&&function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var o=e.getBoundingClientRect(),i=o.width,a=o.height;if(i||a)return!0}}return!1}(u)?a=cn(i,u,r):l&&(a=function(e,t,n){var r,o,i=Yt.getDocument(e),a=i.defaultView||i.parentWindow,u=Yt.getWindowScrollLeft(a),l=Yt.getWindowScrollTop(a),s=Yt.viewportWidth(a),c=Yt.viewportHeight(a),f={left:r="pageX"in t?t.pageX:u+t.clientX,top:o="pageY"in t?t.pageY:l+t.clientY,width:0,height:0},d=r>=0&&r<=u+s&&o>=0&&o<=l+c,p=[n.points[0],"cc"];return sn(e,f,ct(ct({},n),{},{points:p}),d)}(i,l,r)),function(e,t){e!==document.activeElement&&(0,et.A)(t,e)&&"function"==typeof e.focus&&e.focus()}(s,i),o&&a&&o(i,a),!0}return!1},c),g=(0,m.A)(h,2),y=g[0],b=g[1],A=r.useState(),E=(0,m.A)(A,2),C=E[0],x=E[1],S=r.useState(),P=(0,m.A)(S,2),F=P[0],O=P[1];return(0,w.A)(function(){x(pn(i)),O(vn(i))}),r.useEffect(function(){var e,t;f.current.element===C&&((e=f.current.point)===(t=F)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&fn(f.current.align,a)||y()}),r.useEffect(function(){return dn(d.current,y)},[d.current]),r.useEffect(function(){return dn(C,y)},[C]),r.useEffect(function(){o?b():y()},[o]),r.useEffect(function(){if(l)return tt(window,"resize",y).remove},[l]),r.useEffect(function(){return function(){b()}},[]),r.useImperativeHandle(t,function(){return{forceAlign:function(){return y(!0)}}}),r.isValidElement(p)&&(p=r.cloneElement(p,{ref:(0,M.K4)(p.ref,d)})),p},mn=r.forwardRef(hn);mn.displayName="Align";var gn=mn;function yn(e,t){this.v=e,this.k=t}function bn(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}bn=function(e,t,n,r){function i(t,n){bn(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},bn(e,t,n,r)}function An(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof u?r:u,s=Object.create(l.prototype);return bn(s,"_invoke",function(n,r,o){var i,u,l,s=0,c=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,u=0,l=e,d.n=n,a}};function p(n,r){for(u=n,l=r,t=0;!f&&s&&!o&&t<c.length;t++){var o,i=c[t],p=d.p,v=i[2];n>3?(o=v===r)&&(l=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,d.v=r,d.n=i[1]):p<v&&(o=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,d.n=v,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,c,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===c&&p(c,v),u=c,l=v;(t=u<2?e:l)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,l)):d.n=l:d.v=l);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?l:n.call(r,d))!==a)break}catch(t){i=e,u=1,l=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function u(){}function l(){}function s(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):(bn(t={},r,function(){return this}),t),f=s.prototype=u.prototype=Object.create(c);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,bn(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=s,bn(f,"constructor",s),bn(s,"constructor",l),l.displayName="GeneratorFunction",bn(s,o,"GeneratorFunction"),bn(f),bn(f,o,"Generator"),bn(f,r,function(){return this}),bn(f,"toString",function(){return"[object Generator]"}),(An=function(){return{w:i,m:d}})()}function wn(e,t){function n(r,o,i,a){try{var u=e[r](o),l=u.value;return l instanceof yn?t.resolve(l.v).then(function(e){n("next",e,i,a)},function(e){n("throw",e,i,a)}):t.resolve(l).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,a)})}catch(e){a(e)}}var r;this.next||(bn(wn.prototype),bn(wn.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),bn(this,"_invoke",function(e,o,i){function a(){return new t(function(t,r){n(e,i,t,r)})}return r=r?r.then(a,a):a()},!0)}function En(e,t,n,r,o){return new wn(An().w(e,t,n,r),o||Promise)}function Cn(e,t,n,r,o){var i=En(e,t,n,r,o);return i.next().then(function(e){return e.done?e.value:i.next()})}function xn(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}}function Mn(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError((0,y.A)(e)+" is not iterable")}function Sn(){var e=An(),t=e.m(Sn),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===n||"GeneratorFunction"===(t.displayName||t.name))}var o={throw:1,return:2,break:3,continue:3};function i(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,o[e],t)},delegateYield:function(e,o,i){return t.resultName=o,n(r.d,Mn(e),i)},finish:function(e){return n(r.f,e)}},n=function(e,n,o){r.p=t.prev,r.n=t.next;try{return e(n,o)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(Sn=function(){return{wrap:function(t,n,r,o){return e.w(i(t),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:e.m,awrap:function(e,t){return new yn(e,t)},AsyncIterator:wn,async:function(e,t,n,o,a){return(r(t)?En:Cn)(i(e),t,n,o,a)},keys:xn,values:Mn}})()}function Pn(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function Fn(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Pn(i,r,o,a,u,"next",e)}function u(e){Pn(i,r,o,a,u,"throw",e)}a(void 0)})}}var On=n(1233),Nn=["measure","alignPre","align",null,"motion"],kn=r.forwardRef(function(e,t){var n=e.visible,o=e.prefixCls,i=e.className,a=e.style,u=e.children,l=e.zIndex,s=e.stretch,c=e.destroyPopupOnHide,d=e.forceRender,v=e.align,g=e.point,y=e.getRootDomNode,b=e.getClassNameFromAlign,A=e.onAlign,E=e.onMouseEnter,C=e.onMouseLeave,x=e.onMouseDown,M=e.onTouchStart,S=e.onClick,P=(0,r.useRef)(),F=(0,r.useRef)(),O=(0,r.useState)(),N=(0,m.A)(O,2),k=N[0],R=N[1],T=function(e){var t=r.useState({width:0,height:0}),n=(0,m.A)(t,2),o=n[0],i=n[1];return[r.useMemo(function(){var t={};if(e){var n=o.width,r=o.height;-1!==e.indexOf("height")&&r?t.height=r:-1!==e.indexOf("minHeight")&&r&&(t.minHeight=r),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t},[e,o]),function(e){var t=e.offsetWidth,n=e.offsetHeight,r=e.getBoundingClientRect(),o=r.width,a=r.height;Math.abs(t-o)<1&&Math.abs(n-a)<1&&(t=o,n=a),i({width:t,height:n})}]}(s),_=(0,m.A)(T,2),D=_[0],I=_[1];var V=function(e,t){var n=(0,On.A)(null),o=(0,m.A)(n,2),i=o[0],a=o[1],u=(0,r.useRef)();function l(e){a(e,!0)}function s(){we.A.cancel(u.current)}return(0,r.useEffect)(function(){l("measure")},[e]),(0,r.useEffect)(function(){"measure"===i&&t(),i&&(u.current=(0,we.A)(Fn(Sn().mark(function e(){var t,n;return Sn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=Nn.indexOf(i),(n=Nn[t+1])&&-1!==t&&l(n);case 3:case"end":return e.stop()}},e)}))))},[i]),(0,r.useEffect)(function(){return function(){s()}},[]),[i,function(e){s(),u.current=(0,we.A)(function(){l(function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e}),null==e||e()})}]}(n,function(){s&&I(y())}),L=(0,m.A)(V,2),H=L[0],j=L[1],W=(0,r.useState)(0),z=(0,m.A)(W,2),U=z[0],q=z[1],$=(0,r.useRef)();function B(){var e;null===(e=P.current)||void 0===e||e.forceAlign()}function K(e,t){var n=b(t);k!==n&&R(n),q(function(e){return e+1}),"align"===H&&(null==A||A(e,t))}(0,w.A)(function(){"alignPre"===H&&q(0)},[H]),(0,w.A)(function(){"align"===H&&(U<3?B():j(function(){var e;null===(e=$.current)||void 0===e||e.call($)}))},[U]);var Y=(0,h.A)({},ut(e));function X(){return new Promise(function(e){$.current=e})}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(e){var t=Y[e];Y[e]=function(e,n){return j(),null==t?void 0:t(e,n)}}),r.useEffect(function(){Y.motionName||"motion"!==H||j()},[Y.motionName,H]),r.useImperativeHandle(t,function(){return{forceAlign:B,getElement:function(){return F.current}}});var G=(0,h.A)((0,h.A)({},D),{},{zIndex:l,opacity:"motion"!==H&&"stable"!==H&&n?0:void 0,pointerEvents:n||"stable"===H?void 0:"none"},a),Q=!0;null==v||!v.points||"align"!==H&&"stable"!==H||(Q=!1);var Z=u;return r.Children.count(u)>1&&(Z=r.createElement("div",{className:"".concat(o,"-content")},u)),r.createElement(at.Ay,(0,f.A)({visible:n,ref:F,leavedClassName:"".concat(o,"-hidden")},Y,{onAppearPrepare:X,onEnterPrepare:X,removeOnLeave:c,forceRender:d}),function(e,t){var n=e.className,a=e.style,u=p()(o,i,k,n);return r.createElement(gn,{target:g||y,key:"popup",ref:P,monitorWindowResize:!0,disabled:Q,align:v,onAlign:K},r.createElement("div",{ref:t,className:u,onMouseEnter:E,onMouseLeave:C,onMouseDownCapture:x,onTouchStartCapture:M,onClick:S,style:(0,h.A)((0,h.A)({},a),G)},Z))})});kn.displayName="PopupInner";var Rn=kn,Tn=r.forwardRef(function(e,t){var n=e.prefixCls,o=e.visible,i=e.zIndex,a=e.children,u=e.mobile,l=(u=void 0===u?{}:u).popupClassName,s=u.popupStyle,c=u.popupMotion,d=void 0===c?{}:c,v=u.popupRender,m=e.onClick,g=r.useRef();r.useImperativeHandle(t,function(){return{forceAlign:function(){},getElement:function(){return g.current}}});var y=(0,h.A)({zIndex:i},s),b=a;return r.Children.count(a)>1&&(b=r.createElement("div",{className:"".concat(n,"-content")},a)),v&&(b=v(b)),r.createElement(at.Ay,(0,f.A)({visible:o,ref:g,removeOnLeave:!0},d),function(e,t){var o=e.className,i=e.style,a=p()(n,l,o);return r.createElement("div",{ref:t,className:a,onClick:m,style:(0,h.A)((0,h.A)({},i),y)},b)})});Tn.displayName="MobilePopupInner";var _n=Tn,Dn=["visible","mobile"],In=r.forwardRef(function(e,t){var n=e.visible,o=e.mobile,i=(0,g.A)(e,Dn),a=(0,r.useState)(n),u=(0,m.A)(a,2),l=u[0],s=u[1],c=(0,r.useState)(!1),d=(0,m.A)(c,2),p=d[0],v=d[1],y=(0,h.A)((0,h.A)({},i),{},{visible:l});(0,r.useEffect)(function(){s(n),n&&o&&v(E())},[n,o]);var b=p?r.createElement(_n,(0,f.A)({},y,{mobile:o,ref:t})):r.createElement(Rn,(0,f.A)({},y,{ref:t}));return r.createElement("div",null,r.createElement(lt,y),b)});In.displayName="Popup";var Vn=In,Ln=r.createContext(null);function Hn(){}function jn(){return""}function Wn(e){return e?e.ownerDocument:window.document}var zn=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var Un,qn,$n=(Un=rt,qn=function(e){(0,ae.A)(n,e);var t=(0,ue.A)(n);function n(e){var o,i;return(0,oe.A)(this,n),o=t.call(this,e),(0,c.A)((0,Je.A)(o),"popupRef",r.createRef()),(0,c.A)((0,Je.A)(o),"triggerRef",r.createRef()),(0,c.A)((0,Je.A)(o),"portalContainer",void 0),(0,c.A)((0,Je.A)(o),"attachId",void 0),(0,c.A)((0,Je.A)(o),"clickOutsideHandler",void 0),(0,c.A)((0,Je.A)(o),"touchOutsideHandler",void 0),(0,c.A)((0,Je.A)(o),"contextMenuOutsideHandler1",void 0),(0,c.A)((0,Je.A)(o),"contextMenuOutsideHandler2",void 0),(0,c.A)((0,Je.A)(o),"mouseDownTimeout",void 0),(0,c.A)((0,Je.A)(o),"focusTime",void 0),(0,c.A)((0,Je.A)(o),"preClickTime",void 0),(0,c.A)((0,Je.A)(o),"preTouchTime",void 0),(0,c.A)((0,Je.A)(o),"delayTimer",void 0),(0,c.A)((0,Je.A)(o),"hasPopupMouseDown",void 0),(0,c.A)((0,Je.A)(o),"onMouseEnter",function(e){var t=o.props.mouseEnterDelay;o.fireEvents("onMouseEnter",e),o.delaySetPopupVisible(!0,t,t?null:e)}),(0,c.A)((0,Je.A)(o),"onMouseMove",function(e){o.fireEvents("onMouseMove",e),o.setPoint(e)}),(0,c.A)((0,Je.A)(o),"onMouseLeave",function(e){o.fireEvents("onMouseLeave",e),o.delaySetPopupVisible(!1,o.props.mouseLeaveDelay)}),(0,c.A)((0,Je.A)(o),"onPopupMouseEnter",function(){o.clearDelayTimer()}),(0,c.A)((0,Je.A)(o),"onPopupMouseLeave",function(e){var t;e.relatedTarget&&!e.relatedTarget.setTimeout&&(0,et.A)(null===(t=o.popupRef.current)||void 0===t?void 0:t.getElement(),e.relatedTarget)||o.delaySetPopupVisible(!1,o.props.mouseLeaveDelay)}),(0,c.A)((0,Je.A)(o),"onFocus",function(e){o.fireEvents("onFocus",e),o.clearDelayTimer(),o.isFocusToShow()&&(o.focusTime=Date.now(),o.delaySetPopupVisible(!0,o.props.focusDelay))}),(0,c.A)((0,Je.A)(o),"onMouseDown",function(e){o.fireEvents("onMouseDown",e),o.preClickTime=Date.now()}),(0,c.A)((0,Je.A)(o),"onTouchStart",function(e){o.fireEvents("onTouchStart",e),o.preTouchTime=Date.now()}),(0,c.A)((0,Je.A)(o),"onBlur",function(e){o.fireEvents("onBlur",e),o.clearDelayTimer(),o.isBlurToHide()&&o.delaySetPopupVisible(!1,o.props.blurDelay)}),(0,c.A)((0,Je.A)(o),"onContextMenu",function(e){e.preventDefault(),o.fireEvents("onContextMenu",e),o.setPopupVisible(!0,e)}),(0,c.A)((0,Je.A)(o),"onContextMenuClose",function(){o.isContextMenuToShow()&&o.close()}),(0,c.A)((0,Je.A)(o),"onClick",function(e){if(o.fireEvents("onClick",e),o.focusTime){var t;if(o.preClickTime&&o.preTouchTime?t=Math.min(o.preClickTime,o.preTouchTime):o.preClickTime?t=o.preClickTime:o.preTouchTime&&(t=o.preTouchTime),Math.abs(t-o.focusTime)<20)return;o.focusTime=0}o.preClickTime=0,o.preTouchTime=0,o.isClickToShow()&&(o.isClickToHide()||o.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var n=!o.state.popupVisible;(o.isClickToHide()&&!n||n&&o.isClickToShow())&&o.setPopupVisible(!o.state.popupVisible,e)}),(0,c.A)((0,Je.A)(o),"onPopupMouseDown",function(){var e;o.hasPopupMouseDown=!0,clearTimeout(o.mouseDownTimeout),o.mouseDownTimeout=window.setTimeout(function(){o.hasPopupMouseDown=!1},0),o.context&&(e=o.context).onPopupMouseDown.apply(e,arguments)}),(0,c.A)((0,Je.A)(o),"onDocumentClick",function(e){if(!o.props.mask||o.props.maskClosable){var t=e.target,n=o.getRootDomNode(),r=o.getPopupDomNode();(0,et.A)(n,t)&&!o.isContextMenuOnly()||(0,et.A)(r,t)||o.hasPopupMouseDown||o.close()}}),(0,c.A)((0,Je.A)(o),"getRootDomNode",function(){var e=o.props.getTriggerDOMNode;if(e)return e(o.triggerRef.current);try{var t=(0,R.Ay)(o.triggerRef.current);if(t)return t}catch(n){}return Ae.findDOMNode((0,Je.A)(o))}),(0,c.A)((0,Je.A)(o),"getPopupClassNameFromAlign",function(e){var t=[],n=o.props,r=n.popupPlacement,i=n.builtinPlacements,a=n.prefixCls,u=n.alignPoint,l=n.getPopupClassNameFromAlign;return r&&i&&t.push(function(e,t,n,r){for(var o=n.points,i=Object.keys(e),a=0;a<i.length;a+=1){var u=i[a];if(ot(e[u].points,o,r))return"".concat(t,"-placement-").concat(u)}return""}(i,a,e,u)),l&&t.push(l(e)),t.join(" ")}),(0,c.A)((0,Je.A)(o),"getComponent",function(){var e=o.props,t=e.prefixCls,n=e.destroyPopupOnHide,i=e.popupClassName,a=e.onPopupAlign,u=e.popupMotion,l=e.popupAnimation,s=e.popupTransitionName,c=e.popupStyle,d=e.mask,p=e.maskAnimation,v=e.maskTransitionName,h=e.maskMotion,m=e.zIndex,g=e.popup,y=e.stretch,b=e.alignPoint,A=e.mobile,w=e.forceRender,E=e.onPopupClick,C=o.state,x=C.popupVisible,M=C.point,S=o.getPopupAlign(),P={};return o.isMouseEnterToShow()&&(P.onMouseEnter=o.onPopupMouseEnter),o.isMouseLeaveToHide()&&(P.onMouseLeave=o.onPopupMouseLeave),P.onMouseDown=o.onPopupMouseDown,P.onTouchStart=o.onPopupMouseDown,r.createElement(Vn,(0,f.A)({prefixCls:t,destroyPopupOnHide:n,visible:x,point:b&&M,className:i,align:S,onAlign:a,animation:l,getClassNameFromAlign:o.getPopupClassNameFromAlign},P,{stretch:y,getRootDomNode:o.getRootDomNode,style:c,mask:d,zIndex:m,transitionName:s,maskAnimation:p,maskTransitionName:v,maskMotion:h,ref:o.popupRef,motion:u,mobile:A,forceRender:w,onClick:E}),"function"==typeof g?g():g)}),(0,c.A)((0,Je.A)(o),"attachParent",function(e){we.A.cancel(o.attachId);var t,n=o.props,r=n.getPopupContainer,i=n.getDocument,a=o.getRootDomNode();r?(a||0===r.length)&&(t=r(a)):t=i(o.getRootDomNode()).body,t?t.appendChild(e):o.attachId=(0,we.A)(function(){o.attachParent(e)})}),(0,c.A)((0,Je.A)(o),"getContainer",function(){if(!o.portalContainer){var e=(0,o.props.getDocument)(o.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",o.portalContainer=e}return o.attachParent(o.portalContainer),o.portalContainer}),(0,c.A)((0,Je.A)(o),"setPoint",function(e){o.props.alignPoint&&e&&o.setState({point:{pageX:e.pageX,pageY:e.pageY}})}),(0,c.A)((0,Je.A)(o),"handlePortalUpdate",function(){o.state.prevPopupVisible!==o.state.popupVisible&&o.props.afterPopupVisibleChange(o.state.popupVisible)}),(0,c.A)((0,Je.A)(o),"triggerContextValue",{onPopupMouseDown:o.onPopupMouseDown}),i="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,o.state={prevPopupVisible:i,popupVisible:i},zn.forEach(function(e){o["fire".concat(e)]=function(t){o.fireEvents(e,t)}}),o}return(0,ie.A)(n,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=tt(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=tt(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=tt(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=tt(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),we.A.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){var r=e[t]||{};return(0,h.A)((0,h.A)({},r),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,o=1e3*t;if(this.clearDelayTimer(),o){var i=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout(function(){r.setPopupVisible(e,i),r.clearDelayTimer()},o)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var e=this.state.popupVisible,t=this.props,n=t.children,o=t.forceRender,i=t.alignPoint,a=t.className,u=t.autoDestroy,l=r.Children.only(n),s={key:"trigger"};this.isContextMenuToShow()?s.onContextMenu=this.onContextMenu:s.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(s.onClick=this.onClick,s.onMouseDown=this.onMouseDown,s.onTouchStart=this.onTouchStart):(s.onClick=this.createTwoChains("onClick"),s.onMouseDown=this.createTwoChains("onMouseDown"),s.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(s.onMouseEnter=this.onMouseEnter,i&&(s.onMouseMove=this.onMouseMove)):s.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?s.onMouseLeave=this.onMouseLeave:s.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(s.onFocus=this.onFocus,s.onBlur=this.onBlur):(s.onFocus=this.createTwoChains("onFocus"),s.onBlur=this.createTwoChains("onBlur"));var c=p()(l&&l.props&&l.props.className,a);c&&(s.className=c);var f=(0,h.A)({},s);(0,M.f3)(l)&&(f.ref=(0,M.K4)(this.triggerRef,l.ref));var d,v=r.cloneElement(l,f);return(e||this.popupRef.current||o)&&(d=r.createElement(Un,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!e&&u&&(d=null),r.createElement(Ln.Provider,{value:this.triggerContextValue},v,d)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),n}(r.Component),(0,c.A)(qn,"contextType",Ln),(0,c.A)(qn,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:jn,getDocument:Wn,onPopupVisibleChange:Hn,afterPopupVisibleChange:Hn,onPopupAlign:Hn,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),qn),Bn=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Kn=function(e,t){var n=e.prefixCls,o=(e.disabled,e.visible),i=e.children,a=e.popupElement,u=e.containerWidth,l=e.animation,s=e.transitionName,d=e.dropdownStyle,v=e.dropdownClassName,m=e.direction,y=void 0===m?"ltr":m,b=e.placement,A=e.dropdownMatchSelectWidth,w=e.dropdownRender,E=e.dropdownAlign,C=e.getPopupContainer,x=e.empty,M=e.getTriggerDOMNode,S=e.onPopupVisibleChange,P=e.onPopupMouseEnter,F=(0,g.A)(e,Bn),O="".concat(n,"-dropdown"),N=a;w&&(N=w(a));var k=r.useMemo(function(){return function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}}(A)},[A]),R=l?"".concat(O,"-").concat(l):s,T=r.useRef(null);r.useImperativeHandle(t,function(){return{getPopupElement:function(){return T.current}}});var _=(0,h.A)({minWidth:u},d);return"number"==typeof A?_.width=A:A&&(_.width=u),r.createElement($n,(0,f.A)({},F,{showAction:S?["click"]:[],hideAction:S?["click"]:[],popupPlacement:b||("rtl"===y?"bottomRight":"bottomLeft"),builtinPlacements:k,prefixCls:O,popupTransitionName:R,popup:r.createElement("div",{ref:T,onMouseEnter:P},N),popupAlign:E,popupVisible:o,getPopupContainer:C,popupClassName:p()(v,(0,c.A)({},"".concat(O,"-empty"),x)),popupStyle:_,getTriggerDOMNode:M,onPopupVisibleChange:S}),i)},Yn=r.forwardRef(Kn);Yn.displayName="SelectTrigger";var Xn=Yn,Gn=n(87695);function Qn(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!=r?r:void 0!==n?n:"rc-index-key-".concat(t)}function Zn(e,t){var n=e||{};return{label:n.label||(t?"children":"label"),value:n.value||"value",options:n.options||"options"}}function Jn(e){var t=(0,h.A)({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return(0,A.Ay)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var er=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],tr=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function nr(e){return"tags"===e||"multiple"===e}var rr=r.forwardRef(function(e,t){var n,o,i=e.id,a=e.prefixCls,u=e.className,l=e.showSearch,s=e.tagRender,d=e.direction,A=e.omitDomProps,C=e.displayValues,F=e.onDisplayValuesChange,O=e.emptyOptions,N=e.notFoundContent,k=void 0===N?"Not Found":N,R=e.onClear,T=e.mode,_=e.disabled,D=e.loading,I=e.getInputElement,V=e.getRawInputElement,L=e.open,H=e.defaultOpen,j=e.onDropdownVisibleChange,W=e.activeValue,z=e.onActiveValueChange,U=e.activeDescendantId,q=e.searchValue,$=e.autoClearSearchValue,B=e.onSearch,K=e.onSearchSplit,Y=e.tokenSeparators,X=e.allowClear,G=e.showArrow,Q=e.inputIcon,Z=e.clearIcon,J=e.OptionList,ee=e.animation,te=e.transitionName,ne=e.dropdownStyle,re=e.dropdownClassName,oe=e.dropdownMatchSelectWidth,ie=e.dropdownRender,ae=e.dropdownAlign,ue=e.placement,le=e.getPopupContainer,se=e.showAction,ce=void 0===se?[]:se,fe=e.onFocus,de=e.onBlur,pe=e.onKeyUp,ve=e.onKeyDown,he=e.onMouseDown,me=(0,g.A)(e,er),ge=nr(T),ye=(void 0!==l?l:ge)||"combobox"===T,be=(0,h.A)({},me);tr.forEach(function(e){delete be[e]}),null==A||A.forEach(function(e){delete be[e]});var Ae=r.useState(!1),we=(0,m.A)(Ae,2),Ee=we[0],Ce=we[1];r.useEffect(function(){Ce(E())},[]);var xe=r.useRef(null),Me=r.useRef(null),Se=r.useRef(null),Pe=r.useRef(null),Fe=r.useRef(null),Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=r.useState(!1),n=(0,m.A)(t,2),o=n[0],i=n[1],a=r.useRef(null),u=function(){window.clearTimeout(a.current)};return r.useEffect(function(){return u},[]),[o,function(t,n){u(),a.current=window.setTimeout(function(){i(t),n&&n()},e)},u]}(),Ne=(0,m.A)(Oe,3),ke=Ne[0],Re=Ne[1],Te=Ne[2];r.useImperativeHandle(t,function(){var e,t;return{focus:null===(e=Pe.current)||void 0===e?void 0:e.focus,blur:null===(t=Pe.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=Fe.current)||void 0===t?void 0:t.scrollTo(e)}}});var _e=r.useMemo(function(){var e;if("combobox"!==T)return q;var t=null===(e=C[0])||void 0===e?void 0:e.value;return"string"==typeof t||"number"==typeof t?String(t):""},[q,T,C]),De="combobox"===T&&"function"==typeof I&&I()||null,Ie="function"==typeof V&&V(),Ve=(0,M.xK)(Me,null==Ie||null===(n=Ie.props)||void 0===n?void 0:n.ref),He=(0,b.A)(void 0,{defaultValue:H,value:L}),je=(0,m.A)(He,2),We=je[0],ze=je[1],Ue=We,qe=!k&&O;(_||qe&&Ue&&"combobox"===T)&&(Ue=!1);var $e=!qe&&Ue,Be=r.useCallback(function(e){var t=void 0!==e?e:!Ue;_||(ze(t),Ue!==t&&(null==j||j(t)))},[_,Ue,ze,j]),Ke=r.useMemo(function(){return(Y||[]).some(function(e){return["\n","\r\n"].includes(e)})},[Y]),Ye=function(e,t,n){var r=!0,o=e;null==z||z(null);var i=n?null:function(e,t){if(!t||!t.length)return null;var n=!1,r=function e(t,r){var o=(0,Gn.A)(r),i=o[0],a=o.slice(1);if(!i)return[t];var u=t.split(i);return n=n||u.length>1,u.reduce(function(t,n){return[].concat((0,v.A)(t),(0,v.A)(e(n,a)))},[]).filter(function(e){return e})}(e,t);return n?r:null}(e,Y);return"combobox"!==T&&i&&(o="",null==K||K(i),Be(!1),r=!1),B&&_e!==o&&B(o,{source:t?"typing":"effect"}),r};r.useEffect(function(){Ue||ge||"combobox"===T||Ye("",!1,!1)},[Ue]),r.useEffect(function(){We&&_&&ze(!1),_&&Re(!1)},[_]);var Xe=P(),Ge=(0,m.A)(Xe,2),Qe=Ge[0],Je=Ge[1],et=r.useRef(!1),tt=[];r.useEffect(function(){return function(){tt.forEach(function(e){return clearTimeout(e)}),tt.splice(0,tt.length)}},[]);var nt,rt=r.useState(null),ot=(0,m.A)(rt,2),it=ot[0],at=ot[1],ut=r.useState({}),lt=(0,m.A)(ut,2)[1];(0,w.A)(function(){if($e){var e,t=Math.ceil(null===(e=xe.current)||void 0===e?void 0:e.offsetWidth);it===t||Number.isNaN(t)||at(t)}},[$e]),Ie&&(nt=function(e){Be(e)}),function(e,t,n,o){var i=r.useRef(null);i.current={open:t,triggerOpen:n,customizedTrigger:o},r.useEffect(function(){function t(t){var n;if(null===(n=i.current)||void 0===n||!n.customizedTrigger){var r=t.target;r.shadowRoot&&t.composed&&(r=t.composedPath()[0]||r),i.current.open&&e().filter(function(e){return e}).every(function(e){return!e.contains(r)&&e!==r})&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}},[])}(function(){var e;return[xe.current,null===(e=Se.current)||void 0===e?void 0:e.getPopupElement()]},$e,Be,!!Ie);var st,ct,ft=r.useMemo(function(){return(0,h.A)((0,h.A)({},e),{},{notFoundContent:k,open:Ue,triggerOpen:$e,id:i,showSearch:ye,multiple:ge,toggleOpen:Be})},[e,k,$e,Ue,i,ye,ge,Be]),dt=void 0!==G?G:D||!ge&&"combobox"!==T;dt&&(st=r.createElement(Le,{className:p()("".concat(a,"-arrow"),(0,c.A)({},"".concat(a,"-arrow-loading"),D)),customizeIcon:Q,customizeIconProps:{loading:D,searchValue:_e,open:Ue,focused:ke,showSearch:ye}}));_||!X||!C.length&&!_e||"combobox"===T&&""===_e||(ct=r.createElement(Le,{className:"".concat(a,"-clear"),onMouseDown:function(){var e;null==R||R(),null===(e=Pe.current)||void 0===e||e.focus(),F([],{type:"clear",values:C}),Ye("",!1,!1)},customizeIcon:Z},"×"));var pt,vt=r.createElement(J,{ref:Fe}),ht=p()(a,u,(o={},(0,c.A)(o,"".concat(a,"-focused"),ke),(0,c.A)(o,"".concat(a,"-multiple"),ge),(0,c.A)(o,"".concat(a,"-single"),!ge),(0,c.A)(o,"".concat(a,"-allow-clear"),X),(0,c.A)(o,"".concat(a,"-show-arrow"),dt),(0,c.A)(o,"".concat(a,"-disabled"),_),(0,c.A)(o,"".concat(a,"-loading"),D),(0,c.A)(o,"".concat(a,"-open"),Ue),(0,c.A)(o,"".concat(a,"-customize-input"),De),(0,c.A)(o,"".concat(a,"-show-search"),ye),o)),mt=r.createElement(Xn,{ref:Se,disabled:_,prefixCls:a,visible:$e,popupElement:vt,containerWidth:it,animation:ee,transitionName:te,dropdownStyle:ne,dropdownClassName:re,direction:d,dropdownMatchSelectWidth:oe,dropdownRender:ie,dropdownAlign:ae,placement:ue,getPopupContainer:le,empty:O,getTriggerDOMNode:function(){return Me.current},onPopupVisibleChange:nt,onPopupMouseEnter:function(){lt({})}},Ie?r.cloneElement(Ie,{ref:Ve}):r.createElement(Ze,(0,f.A)({},e,{domRef:Me,prefixCls:a,inputElement:De,ref:Pe,id:i,showSearch:ye,autoClearSearchValue:$,mode:T,activeDescendantId:U,tagRender:s,values:C,open:Ue,onToggleOpen:Be,activeValue:W,searchValue:_e,onSearch:Ye,onSearchSubmit:function(e){e&&e.trim()&&B(e,{source:"submit"})},onRemove:function(e){var t=C.filter(function(t){return t!==e});F(t,{type:"remove",values:[e]})},tokenWithEnter:Ke})));return pt=Ie?mt:r.createElement("div",(0,f.A)({className:ht},be,{ref:xe,onMouseDown:function(e){var t,n=e.target,r=null===(t=Se.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var o=setTimeout(function(){var e,t=tt.indexOf(o);-1!==t&&tt.splice(t,1),Te(),Ee||r.contains(document.activeElement)||null===(e=Pe.current)||void 0===e||e.focus()});tt.push(o)}for(var i=arguments.length,a=new Array(i>1?i-1:0),u=1;u<i;u++)a[u-1]=arguments[u];null==he||he.apply(void 0,[e].concat(a))},onKeyDown:function(e){var t,n=Qe(),r=e.which;if(r===x.ENTER&&("combobox"!==T&&e.preventDefault(),Ue||Be(!0)),Je(!!_e),r===x.BACKSPACE&&!n&&ge&&!_e&&C.length){for(var o=(0,v.A)(C),i=null,a=o.length-1;a>=0;a-=1){var u=o[a];if(!u.disabled){o.splice(a,1),i=u;break}}i&&F(o,{type:"remove",values:[i]})}for(var l=arguments.length,s=new Array(l>1?l-1:0),c=1;c<l;c++)s[c-1]=arguments[c];Ue&&Fe.current&&(t=Fe.current).onKeyDown.apply(t,[e].concat(s)),null==ve||ve.apply(void 0,[e].concat(s))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;Ue&&Fe.current&&(o=Fe.current).onKeyUp.apply(o,[e].concat(n)),null==pe||pe.apply(void 0,[e].concat(n))},onFocus:function(){Re(!0),_||(fe&&!et.current&&fe.apply(void 0,arguments),ce.includes("focus")&&Be(!0)),et.current=!0},onBlur:function(){Re(!1,function(){et.current=!1,Be(!1)}),_||(_e&&("tags"===T?B(_e,{source:"submit"}):"multiple"===T&&B("",{source:"blur"})),de&&de.apply(void 0,arguments))}}),ke&&!Ue&&r.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(C.map(function(e){var t=e.label,n=e.value;return["number","string"].includes((0,y.A)(t))?t:n}).join(", "))),mt,st,ct),r.createElement(S.Provider,{value:ft},pt)});var or=rr;function ir(e,t){return ze(e).join("").toUpperCase().includes(t)}var ar=0,ur=(0,nt.A)();function lr(e){var t=r.useState(),n=(0,m.A)(t,2),o=n[0],i=n[1];return r.useEffect(function(){var e;i("rc_select_".concat((ur?(e=ar,ar+=1):e="TEST_OR_SSR",e)))},[]),e||o}var sr=["children","value"],cr=["children"];function fr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,k.A)(e).map(function(e,n){if(!r.isValidElement(e)||!e.type)return null;var o=e,i=o.type.isSelectOptGroup,a=o.key,u=o.props,l=u.children,s=(0,g.A)(u,cr);return t||!i?function(e){var t=e,n=t.key,r=t.props,o=r.children,i=r.value,a=(0,g.A)(r,sr);return(0,h.A)({key:n,value:void 0!==i?i:n,children:o},a)}(e):(0,h.A)((0,h.A)({key:"__RC_SELECT_GRP__".concat(null===a?n:a,"__"),label:a},s),{},{options:fr(l)})}).filter(function(e){return e})}function dr(e){var t=r.useRef();t.current=e;var n=r.useCallback(function(){return t.current.apply(t,arguments)},[]);return n}var pr=function(){return null};pr.isSelectOptGroup=!0;var vr=pr,hr=function(){return null};hr.isSelectOption=!0;var mr=hr,gr=n(19853),yr=n(28104),br=n(81470),Ar=r.forwardRef(function(e,t){var n=e.height,o=e.offsetY,i=e.offsetX,a=e.children,u=e.prefixCls,l=e.onInnerResize,s=e.innerProps,d=e.rtl,v=e.extra,m={},g={display:"flex",flexDirection:"column"};return void 0!==o&&(m={height:n,position:"relative",overflow:"hidden"},g=(0,h.A)((0,h.A)({},g),{},(0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)({transform:"translateY(".concat(o,"px)")},d?"marginRight":"marginLeft",-i),"position","absolute"),"left",0),"right",0),"top",0))),r.createElement("div",{style:m},r.createElement(pe,{onResize:function(e){e.offsetHeight&&l&&l()}},r.createElement("div",(0,f.A)({style:g,className:p()((0,c.A)({},"".concat(u,"-holder-inner"),u)),ref:t},s),a,v)))});Ar.displayName="Filler";var wr=Ar;function Er(e){var t=e.children,n=e.setRef,o=r.useCallback(function(e){n(e)},[]);return r.cloneElement(t,{ref:o})}function Cr(e,t,n){var o=r.useState(e),i=(0,m.A)(o,2),a=i[0],u=i[1],l=r.useState(null),s=(0,m.A)(l,2),c=s[0],f=s[1];return r.useEffect(function(){var r=function(e,t,n){var r,o,i=e.length,a=t.length;if(0===i&&0===a)return null;i<a?(r=e,o=t):(r=t,o=e);var u={__EMPTY_ITEM__:!0};function l(e){return void 0!==e?n(e):u}for(var s=null,c=1!==Math.abs(i-a),f=0;f<o.length;f+=1){var d=l(r[f]);if(d!==l(o[f])){s=f,c=c||d!==l(o[f+1]);break}}return null===s?null:{index:s,multiple:c}}(a||[],e||[],t);void 0!==(null==r?void 0:r.index)&&(null==n||n(r.index),f(e[r.index])),u(e)},[e]),[c]}var xr="object"===("undefined"==typeof navigator?"undefined":(0,y.A)(navigator))&&/Firefox/i.test(navigator.userAgent),Mr=function(e,t,n,o){var i=(0,r.useRef)(!1),a=(0,r.useRef)(null);var u=(0,r.useRef)({top:e,bottom:t,left:n,right:o});return u.current.top=e,u.current.bottom=t,u.current.left=n,u.current.right=o,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e?t<0&&u.current.left||t>0&&u.current.right:t<0&&u.current.top||t>0&&u.current.bottom;return n&&r?(clearTimeout(a.current),i.current=!1):r&&!i.current||(clearTimeout(a.current),i.current=!0,a.current=setTimeout(function(){i.current=!1},50)),!i.current&&r}};function Sr(e,t,n,o,i,a,u){var l=(0,r.useRef)(0),s=(0,r.useRef)(null),c=(0,r.useRef)(null),f=(0,r.useRef)(!1),d=Mr(t,n,o,i);var p=(0,r.useRef)(null),v=(0,r.useRef)(null);return[function(t){if(e){we.A.cancel(v.current),v.current=(0,we.A)(function(){p.current=null},2);var n=t.deltaX,r=t.deltaY,o=t.shiftKey,i=n,h=r;("sx"===p.current||!p.current&&o&&r&&!n)&&(i=r,h=0,p.current="sx");var m=Math.abs(i),g=Math.abs(h);null===p.current&&(p.current=a&&m>g?"x":"y"),"y"===p.current?function(e,t){if(we.A.cancel(s.current),!d(!1,t)){var n=e;n._virtualHandled||(n._virtualHandled=!0,l.current+=t,c.current=t,xr||n.preventDefault(),s.current=(0,we.A)(function(){var e=f.current?10:1;u(l.current*e,!1),l.current=0}))}}(t,h):function(e,t){u(t,!0),xr||e.preventDefault()}(t,i)}},function(t){e&&(f.current=t.detail===c.current)}]}var Pr=function(){function e(){(0,oe.A)(this,e),(0,c.A)(this,"maps",void 0),(0,c.A)(this,"id",0),(0,c.A)(this,"diffRecords",new Map),this.maps=Object.create(null)}return(0,ie.A)(e,[{key:"set",value:function(e,t){this.diffRecords.set(e,this.maps[e]),this.maps[e]=t,this.id+=1}},{key:"get",value:function(e){return this.maps[e]}},{key:"resetRecord",value:function(){this.diffRecords.clear()}},{key:"getRecord",value:function(){return this.diffRecords}}]),e}();function Fr(e){var t=parseFloat(e);return isNaN(t)?0:t}var Or=14/15;function Nr(e){return Math.floor(Math.pow(e,.5))}function kr(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]-window[t?"scrollX":"scrollY"]}var Rr=r.forwardRef(function(e,t){var n=e.prefixCls,o=e.rtl,i=e.scrollOffset,a=e.scrollRange,u=e.onStartMove,l=e.onStopMove,s=e.onScroll,f=e.horizontal,d=e.spinSize,v=e.containerSize,g=e.style,y=e.thumbStyle,b=e.showScrollBar,A=r.useState(!1),w=(0,m.A)(A,2),E=w[0],C=w[1],x=r.useState(null),M=(0,m.A)(x,2),S=M[0],P=M[1],F=r.useState(null),O=(0,m.A)(F,2),N=O[0],k=O[1],R=!o,T=r.useRef(),_=r.useRef(),D=r.useState(b),I=(0,m.A)(D,2),V=I[0],L=I[1],H=r.useRef(),j=function(){!0!==b&&!1!==b&&(clearTimeout(H.current),L(!0),H.current=setTimeout(function(){L(!1)},3e3))},W=a-v||0,z=v-d||0,U=r.useMemo(function(){return 0===i||0===W?0:i/W*z},[i,W,z]),q=r.useRef({top:U,dragging:E,pageY:S,startTop:N});q.current={top:U,dragging:E,pageY:S,startTop:N};var $=function(e){C(!0),P(kr(e,f)),k(q.current.top),u(),e.stopPropagation(),e.preventDefault()};r.useEffect(function(){var e=function(e){e.preventDefault()},t=T.current,n=_.current;return t.addEventListener("touchstart",e,{passive:!1}),n.addEventListener("touchstart",$,{passive:!1}),function(){t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",$)}},[]);var B=r.useRef();B.current=W;var K=r.useRef();K.current=z,r.useEffect(function(){if(E){var e,t=function(t){var n=q.current,r=n.dragging,o=n.pageY,i=n.startTop;we.A.cancel(e);var a=T.current.getBoundingClientRect(),u=v/(f?a.width:a.height);if(r){var l=(kr(t,f)-o)*u,c=i;!R&&f?c-=l:c+=l;var d=B.current,p=K.current,h=p?c/p:0,m=Math.ceil(h*d);m=Math.max(m,0),m=Math.min(m,d),e=(0,we.A)(function(){s(m,f)})}},n=function(){C(!1),l()};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",t,{passive:!0}),window.addEventListener("mouseup",n,{passive:!0}),window.addEventListener("touchend",n,{passive:!0}),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),we.A.cancel(e)}}},[E]),r.useEffect(function(){return j(),function(){clearTimeout(H.current)}},[i]),r.useImperativeHandle(t,function(){return{delayHidden:j}});var Y="".concat(n,"-scrollbar"),X={position:"absolute",visibility:V?null:"hidden"},G={position:"absolute",borderRadius:99,background:"var(--rc-virtual-list-scrollbar-bg, rgba(0, 0, 0, 0.5))",cursor:"pointer",userSelect:"none"};return f?(Object.assign(X,{height:8,left:0,right:0,bottom:0}),Object.assign(G,(0,c.A)({height:"100%",width:d},R?"left":"right",U))):(Object.assign(X,(0,c.A)({width:8,top:0,bottom:0},R?"right":"left",0)),Object.assign(G,{width:"100%",height:d,top:U})),r.createElement("div",{ref:T,className:p()(Y,(0,c.A)((0,c.A)((0,c.A)({},"".concat(Y,"-horizontal"),f),"".concat(Y,"-vertical"),!f),"".concat(Y,"-visible"),V)),style:(0,h.A)((0,h.A)({},X),g),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:j},r.createElement("div",{ref:_,className:p()("".concat(Y,"-thumb"),(0,c.A)({},"".concat(Y,"-thumb-moving"),E)),style:(0,h.A)((0,h.A)({},G),y),onMouseDown:$}))});function Tr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*e;return isNaN(t)&&(t=0),t=Math.max(t,20),Math.floor(t)}var _r=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],Dr=[],Ir={overflowY:"auto",overflowAnchor:"none"};function Vr(e,t){var n=e.prefixCls,o=void 0===n?"rc-virtual-list":n,i=e.className,a=e.height,u=e.itemHeight,l=e.fullHeight,s=void 0===l||l,d=e.style,v=e.data,b=e.children,A=e.itemKey,E=e.virtual,C=e.direction,x=e.scrollWidth,M=e.component,S=void 0===M?"div":M,P=e.onScroll,F=e.onVirtualScroll,O=e.onVisibleChange,N=e.innerProps,k=e.extraRender,R=e.styles,T=e.showScrollBar,_=void 0===T?"optional":T,D=(0,g.A)(e,_r),I=r.useCallback(function(e){return"function"==typeof A?A(e):null==e?void 0:e[A]},[A]),V=function(e,t,n){var o=r.useState(0),i=(0,m.A)(o,2),a=i[0],u=i[1],l=(0,r.useRef)(new Map),s=(0,r.useRef)(new Pr),c=(0,r.useRef)(0);function f(){c.current+=1}function d(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];f();var t=function(){var e=!1;l.current.forEach(function(t,n){if(t&&t.offsetParent){var r=t.offsetHeight,o=getComputedStyle(t),i=o.marginTop,a=o.marginBottom,u=r+Fr(i)+Fr(a);s.current.get(n)!==u&&(s.current.set(n,u),e=!0)}}),e&&u(function(e){return e+1})};if(e)t();else{c.current+=1;var n=c.current;Promise.resolve().then(function(){n===c.current&&t()})}}return(0,r.useEffect)(function(){return f},[]),[function(r,o){var i=e(r),a=l.current.get(i);o?(l.current.set(i,o),d()):l.current.delete(i),!a!=!o&&(o?null==t||t(r):null==n||n(r))},d,s.current,a]}(I,null,null),L=(0,m.A)(V,4),H=L[0],j=L[1],W=L[2],z=L[3],U=!(!1===E||!a||!u),q=r.useMemo(function(){return Object.values(W.maps).reduce(function(e,t){return e+t},0)},[W.id,W.maps]),$=U&&v&&(Math.max(u*v.length,q)>a||!!x),B="rtl"===C,K=p()(o,(0,c.A)({},"".concat(o,"-rtl"),B),i),Y=v||Dr,X=(0,r.useRef)(),G=(0,r.useRef)(),Q=(0,r.useRef)(),Z=(0,r.useState)(0),J=(0,m.A)(Z,2),ee=J[0],te=J[1],ne=(0,r.useState)(0),re=(0,m.A)(ne,2),oe=re[0],ie=re[1],ae=(0,r.useState)(!1),ue=(0,m.A)(ae,2),le=ue[0],se=ue[1],ce=function(){se(!0)},fe=function(){se(!1)},de={getKey:I};function ve(e){te(function(t){var n=function(e){var t=e;Number.isNaN(De.current)||(t=Math.min(t,De.current));return t=Math.max(t,0),t}("function"==typeof e?e(t):e);return X.current.scrollTop=n,n})}var he=(0,r.useRef)({start:0,end:Y.length}),me=(0,r.useRef)(),ge=Cr(Y,I),ye=(0,m.A)(ge,1)[0];me.current=ye;var be=r.useMemo(function(){if(!U)return{scrollHeight:void 0,start:0,end:Y.length-1,offset:void 0};var e;if(!$)return{scrollHeight:(null===(e=G.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:Y.length-1,offset:void 0};for(var t,n,r,o=0,i=Y.length,l=0;l<i;l+=1){var s=Y[l],c=I(s),f=W.get(c),d=o+(void 0===f?u:f);d>=ee&&void 0===t&&(t=l,n=o),d>ee+a&&void 0===r&&(r=l),o=d}return void 0===t&&(t=0,n=0,r=Math.ceil(a/u)),void 0===r&&(r=Y.length-1),{scrollHeight:o,start:t,end:r=Math.min(r+1,Y.length-1),offset:n}},[$,U,ee,Y,z,a]),Ee=be.scrollHeight,Ce=be.start,xe=be.end,Me=be.offset;he.current.start=Ce,he.current.end=xe,r.useLayoutEffect(function(){var e=W.getRecord();if(1===e.size){var t=Array.from(e.keys())[0],n=e.get(t),r=Y[Ce];if(r&&void 0===n)if(I(r)===t){var o=W.get(t)-u;ve(function(e){return e+o})}}W.resetRecord()},[Ee]);var Se=r.useState({width:0,height:a}),Pe=(0,m.A)(Se,2),Fe=Pe[0],Oe=Pe[1],Ne=(0,r.useRef)(),ke=(0,r.useRef)(),Re=r.useMemo(function(){return Tr(Fe.width,x)},[Fe.width,x]),Te=r.useMemo(function(){return Tr(Fe.height,Ee)},[Fe.height,Ee]),_e=Ee-a,De=(0,r.useRef)(_e);De.current=_e;var Ie=ee<=0,Ve=ee>=_e,Le=oe<=0,He=oe>=x,je=Mr(Ie,Ve,Le,He),We=function(){return{x:B?-oe:oe,y:ee}},ze=(0,r.useRef)(We()),Ue=(0,br._q)(function(e){if(F){var t=(0,h.A)((0,h.A)({},We()),e);ze.current.x===t.x&&ze.current.y===t.y||(F(t),ze.current=t)}});function qe(e,t){var n=e;t?((0,Ae.flushSync)(function(){ie(n)}),Ue()):ve(n)}var $e=function(e){var t=e,n=x?x-Fe.width:0;return t=Math.max(t,0),t=Math.min(t,n)},Be=(0,br._q)(function(e,t){t?((0,Ae.flushSync)(function(){ie(function(t){return $e(t+(B?-e:e))})}),Ue()):ve(function(t){return t+e})}),Ke=Sr(U,Ie,Ve,Le,He,!!x,Be),Ye=(0,m.A)(Ke,2),Xe=Ye[0],Ge=Ye[1];!function(e,t,n){var o,i=(0,r.useRef)(!1),a=(0,r.useRef)(0),u=(0,r.useRef)(0),l=(0,r.useRef)(null),s=(0,r.useRef)(null),c=function(e){if(i.current){var t=Math.ceil(e.touches[0].pageX),r=Math.ceil(e.touches[0].pageY),o=a.current-t,l=u.current-r,c=Math.abs(o)>Math.abs(l);c?a.current=t:u.current=r;var f=n(c,c?o:l,!1,e);f&&e.preventDefault(),clearInterval(s.current),f&&(s.current=setInterval(function(){c?o*=Or:l*=Or;var e=Math.floor(c?o:l);(!n(c,e,!0)||Math.abs(e)<=.1)&&clearInterval(s.current)},16))}},f=function(){i.current=!1,o()},d=function(e){o(),1!==e.touches.length||i.current||(i.current=!0,a.current=Math.ceil(e.touches[0].pageX),u.current=Math.ceil(e.touches[0].pageY),l.current=e.target,l.current.addEventListener("touchmove",c,{passive:!1}),l.current.addEventListener("touchend",f,{passive:!0}))};o=function(){l.current&&(l.current.removeEventListener("touchmove",c),l.current.removeEventListener("touchend",f))},(0,w.A)(function(){return e&&t.current.addEventListener("touchstart",d,{passive:!0}),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",d),o(),clearInterval(s.current)}},[e])}(U,X,function(e,t,n,r){var o=r;return!je(e,t,n)&&((!o||!o._virtualHandled)&&(o&&(o._virtualHandled=!0),Xe({preventDefault:function(){},deltaX:e?t:0,deltaY:e?0:t}),!0))}),function(e,t,n){r.useEffect(function(){var r=t.current;if(e&&r){var o,i,a=!1,u=function(){we.A.cancel(o)},l=function e(){u(),o=(0,we.A)(function(){n(i),e()})},s=function(){a=!1,u()},c=function(e){if(!e.target.draggable&&0===e.button){var t=e;t._virtualHandled||(t._virtualHandled=!0,a=!0)}},f=function(e){if(a){var t=kr(e,!1),n=r.getBoundingClientRect(),o=n.top,s=n.bottom;t<=o?(i=-Nr(o-t),l()):t>=s?(i=Nr(t-s),l()):u()}};return r.addEventListener("mousedown",c),r.ownerDocument.addEventListener("mouseup",s),r.ownerDocument.addEventListener("mousemove",f),r.ownerDocument.addEventListener("dragend",s),function(){r.removeEventListener("mousedown",c),r.ownerDocument.removeEventListener("mouseup",s),r.ownerDocument.removeEventListener("mousemove",f),r.ownerDocument.removeEventListener("dragend",s),u()}}},[e])}($,X,function(e){ve(function(t){return t+e})}),(0,w.A)(function(){function e(e){var t=Ie&&e.detail<0,n=Ve&&e.detail>0;!U||t||n||e.preventDefault()}var t=X.current;return t.addEventListener("wheel",Xe,{passive:!1}),t.addEventListener("DOMMouseScroll",Ge,{passive:!0}),t.addEventListener("MozMousePixelScroll",e,{passive:!1}),function(){t.removeEventListener("wheel",Xe),t.removeEventListener("DOMMouseScroll",Ge),t.removeEventListener("MozMousePixelScroll",e)}},[U,Ie,Ve]),(0,w.A)(function(){if(x){var e=$e(oe);ie(e),Ue({x:e})}},[Fe.width,x]);var Qe=function(){var e,t;null===(e=Ne.current)||void 0===e||e.delayHidden(),null===(t=ke.current)||void 0===t||t.delayHidden()},Ze=function(e,t,n,o,i,a,u,l){var s=r.useRef(),c=r.useState(null),f=(0,m.A)(c,2),d=f[0],p=f[1];return(0,w.A)(function(){if(d&&d.times<10){if(!e.current)return void p(function(e){return(0,h.A)({},e)});a();var r=d.targetAlign,l=d.originAlign,s=d.index,c=d.offset,f=e.current.clientHeight,v=!1,m=r,g=null;if(f){for(var y=r||l,b=0,A=0,w=0,E=Math.min(t.length-1,s),C=0;C<=E;C+=1){var x=i(t[C]);A=b;var M=n.get(x);b=w=A+(void 0===M?o:M)}for(var S="top"===y?c:f-c,P=E;P>=0;P-=1){var F=i(t[P]),O=n.get(F);if(void 0===O){v=!0;break}if((S-=O)<=0)break}switch(y){case"top":g=A-c;break;case"bottom":g=w-f+c;break;default:var N=e.current.scrollTop;A<N?m="top":w>N+f&&(m="bottom")}null!==g&&u(g),g!==d.lastTop&&(v=!0)}v&&p((0,h.A)((0,h.A)({},d),{},{times:d.times+1,targetAlign:m,lastTop:g}))}},[d,e.current]),function(e){if(null!=e){if(we.A.cancel(s.current),"number"==typeof e)u(e);else if(e&&"object"===(0,y.A)(e)){var n,r=e.align;n="index"in e?e.index:t.findIndex(function(t){return i(t)===e.key});var o=e.offset;p({times:0,index:n,offset:void 0===o?0:o,originAlign:r})}}else l()}}(X,Y,W,u,I,function(){return j(!0)},ve,Qe);r.useImperativeHandle(t,function(){return{nativeElement:Q.current,getScrollInfo:We,scrollTo:function(e){var t;(t=e)&&"object"===(0,y.A)(t)&&("left"in t||"top"in t)?(void 0!==e.left&&ie($e(e.left)),Ze(e.top)):Ze(e)}}}),(0,w.A)(function(){if(O){var e=Y.slice(Ce,xe+1);O(e,Y)}},[Ce,xe,Y]);var Je=function(e,t,n,o){var i=r.useMemo(function(){return[new Map,[]]},[e,n.id,o]),a=(0,m.A)(i,2),u=a[0],l=a[1];return function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,a=u.get(r),s=u.get(i);if(void 0===a||void 0===s)for(var c=e.length,f=l.length;f<c;f+=1){var d,p=e[f],v=t(p);u.set(v,f);var h=null!==(d=n.get(v))&&void 0!==d?d:o;if(l[f]=(l[f-1]||0)+h,v===r&&(a=f),v===i&&(s=f),void 0!==a&&void 0!==s)break}return{top:l[a-1]||0,bottom:l[s]}}}(Y,I,W,u),et=null==k?void 0:k({start:Ce,end:xe,virtual:$,offsetX:oe,offsetY:Me,rtl:B,getSize:Je}),tt=function(e,t,n,o,i,a,u,l){var s=l.getKey;return e.slice(t,n+1).map(function(e,n){var l=u(e,t+n,{style:{width:o},offsetX:i}),c=s(e);return r.createElement(Er,{key:c,setRef:function(t){return a(e,t)}},l)})}(Y,Ce,xe,x,oe,H,b,de),nt=null;a&&(nt=(0,h.A)((0,c.A)({},s?"height":"maxHeight",a),Ir),U&&(nt.overflowY="hidden",x&&(nt.overflowX="hidden"),le&&(nt.pointerEvents="none")));var rt={};return B&&(rt.dir="rtl"),r.createElement("div",(0,f.A)({ref:Q,style:(0,h.A)((0,h.A)({},d),{},{position:"relative"}),className:K},rt,D),r.createElement(pe,{onResize:function(e){Oe({width:e.offsetWidth,height:e.offsetHeight})}},r.createElement(S,{className:"".concat(o,"-holder"),style:nt,ref:X,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==ee&&ve(t),null==P||P(e),Ue()},onMouseEnter:Qe},r.createElement(wr,{prefixCls:o,height:Ee,offsetX:oe,offsetY:Me,scrollWidth:x,onInnerResize:j,ref:G,innerProps:N,rtl:B,extra:et},tt))),$&&Ee>a&&r.createElement(Rr,{ref:Ne,prefixCls:o,scrollOffset:ee,scrollRange:Ee,rtl:B,onScroll:qe,onStartMove:ce,onStopMove:fe,spinSize:Te,containerSize:Fe.height,style:null==R?void 0:R.verticalScrollBar,thumbStyle:null==R?void 0:R.verticalScrollBarThumb,showScrollBar:_}),$&&x>Fe.width&&r.createElement(Rr,{ref:ke,prefixCls:o,scrollOffset:oe,scrollRange:x,rtl:B,onScroll:qe,onStartMove:ce,onStopMove:fe,spinSize:Re,containerSize:Fe.width,horizontal:!0,style:null==R?void 0:R.horizontalScrollBar,thumbStyle:null==R?void 0:R.horizontalScrollBarThumb,showScrollBar:_}))}var Lr=r.forwardRef(Vr);Lr.displayName="List";var Hr=Lr;var jr=r.createContext(null),Wr=["disabled","title","children","style","className"];function zr(e){return"string"==typeof e||"number"==typeof e}var Ur=function(e,t){var n=r.useContext(S),o=n.prefixCls,i=n.id,a=n.open,u=n.multiple,l=n.mode,s=n.searchValue,d=n.toggleOpen,h=n.notFoundContent,y=n.onPopupScroll,b=r.useContext(jr),A=b.flattenOptions,w=b.onActiveValue,E=b.defaultActiveFirstOption,C=b.onSelect,M=b.menuItemSelectedIcon,P=b.rawValues,F=b.fieldNames,O=b.virtual,k=b.listHeight,R=b.listItemHeight,T="".concat(o,"-item"),_=(0,yr.A)(function(){return A},[a,A],function(e,t){return t[0]&&e[1]!==t[1]}),D=r.useRef(null),I=function(e){e.preventDefault()},V=function(e){D.current&&D.current.scrollTo("number"==typeof e?{index:e}:e)},L=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=_.length,r=0;r<n;r+=1){var o=(e+r*t+n)%n,i=_[o],a=i.group,u=i.data;if(!a&&!u.disabled)return o}return-1},H=r.useState(function(){return L(0)}),j=(0,m.A)(H,2),W=j[0],z=j[1],U=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];z(e);var n={source:t?"keyboard":"mouse"},r=_[e];r?w(r.value,e,n):w(null,-1,n)};(0,r.useEffect)(function(){U(!1!==E?L(0):-1)},[_.length,s]);var q=r.useCallback(function(e){return P.has(e)&&"combobox"!==l},[l,(0,v.A)(P).toString(),P.size]);(0,r.useEffect)(function(){var e,t=setTimeout(function(){if(!u&&a&&1===P.size){var e=Array.from(P)[0],t=_.findIndex(function(t){return t.data.value===e});-1!==t&&(U(t),V(t))}});a&&(null===(e=D.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}},[a,s]);var $=function(e){void 0!==e&&C(e,{selected:!P.has(e)}),u||d(!1)};if(r.useImperativeHandle(t,function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case x.N:case x.P:case x.UP:case x.DOWN:var r=0;if(t===x.UP?r=-1:t===x.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===x.N?r=1:t===x.P&&(r=-1)),0!==r){var o=L(W+r,r);V(o),U(o,!0)}break;case x.ENTER:var i=_[W];i&&!i.data.disabled?$(i.value):$(void 0),a&&e.preventDefault();break;case x.ESC:d(!1),a&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){V(e)}}}),0===_.length)return r.createElement("div",{role:"listbox",id:"".concat(i,"_list"),className:"".concat(T,"-empty"),onMouseDown:I},h);var B=Object.keys(F).map(function(e){return F[e]}),K=function(e){return e.label},Y=function(e){var t=_[e];if(!t)return null;var n=t.data||{},o=n.value,a=t.group,u=N(n,!0),l=K(t);return t?r.createElement("div",(0,f.A)({"aria-label":"string"!=typeof l||a?null:l},u,{key:e,role:a?"presentation":"option",id:"".concat(i,"_list_").concat(e),"aria-selected":q(o)}),o):null};return r.createElement(r.Fragment,null,r.createElement("div",{role:"listbox",id:"".concat(i,"_list"),style:{height:0,width:0,overflow:"hidden"}},Y(W-1),Y(W),Y(W+1)),r.createElement(Hr,{itemKey:"key",ref:D,data:_,height:k,itemHeight:R,fullHeight:!1,onMouseDown:I,onScroll:y,virtual:O},function(e,t){var n,o=e.group,i=e.groupOption,a=e.data,u=e.label,l=e.value,s=a.key;if(o){var d,v=null!==(d=a.title)&&void 0!==d?d:zr(u)?u.toString():void 0;return r.createElement("div",{className:p()(T,"".concat(T,"-group")),title:v},void 0!==u?u:s)}var h=a.disabled,m=a.title,y=(a.children,a.style),b=a.className,A=(0,g.A)(a,Wr),w=(0,gr.A)(A,B),E=q(l),C="".concat(T,"-option"),x=p()(T,C,b,(n={},(0,c.A)(n,"".concat(C,"-grouped"),i),(0,c.A)(n,"".concat(C,"-active"),W===t&&!h),(0,c.A)(n,"".concat(C,"-disabled"),h),(0,c.A)(n,"".concat(C,"-selected"),E),n)),S=K(e),P=!M||"function"==typeof M||E,F="number"==typeof S?S:S||l,O=zr(F)?F.toString():void 0;return void 0!==m&&(O=m),r.createElement("div",(0,f.A)({},N(w),{"aria-selected":E,className:x,title:O,onMouseMove:function(){W===t||h||U(t)},onClick:function(){h||$(l)},style:y}),r.createElement("div",{className:"".concat(C,"-content")},F),r.isValidElement(M)||E,P&&r.createElement(Le,{className:"".concat(T,"-option-state"),customizeIcon:M,customizeIconProps:{isSelected:E}},E?"✓":null))}))},qr=r.forwardRef(Ur);qr.displayName="OptionList";var $r=qr;var Br=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],Kr=["inputValue"];var Yr=r.forwardRef(function(e,t){var n=e.id,o=e.mode,i=e.prefixCls,a=void 0===i?"rc-select":i,u=e.backfill,l=e.fieldNames,s=e.inputValue,d=e.searchValue,p=e.onSearch,A=e.autoClearSearchValue,w=void 0===A||A,E=e.onSelect,C=e.onDeselect,x=e.dropdownMatchSelectWidth,M=void 0===x||x,S=e.filterOption,P=e.filterSort,F=e.optionFilterProp,O=e.optionLabelProp,N=e.options,k=e.children,R=e.defaultActiveFirstOption,T=e.menuItemSelectedIcon,_=e.virtual,D=e.listHeight,I=void 0===D?200:D,V=e.listItemHeight,L=void 0===V?20:V,H=e.value,j=e.defaultValue,W=e.labelInValue,z=e.onChange,U=(0,g.A)(e,Br),q=lr(n),$=nr(o),B=!(N||!k),K=r.useMemo(function(){return(void 0!==S||"combobox"!==o)&&S},[S,o]),Y=r.useMemo(function(){return Zn(l,B)},[JSON.stringify(l),B]),X=(0,b.A)("",{value:void 0!==d?d:s,postState:function(e){return e||""}}),G=(0,m.A)(X,2),Q=G[0],Z=G[1],J=function(e,t,n,o,i){return r.useMemo(function(){var r=e;!e&&(r=fr(t));var a=new Map,u=new Map,l=function(e,t,n){n&&"string"==typeof n&&e.set(t[n],t)};return function e(t){for(var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=0;s<t.length;s+=1){var c=t[s];!c[n.options]||r?(a.set(c[n.value],c),l(u,c,n.label),l(u,c,o),l(u,c,i)):e(c[n.options],!0)}}(r),{options:r,valueOptions:a,labelOptions:u}},[e,t,n,o,i])}(N,k,Y,F,O),ee=J.valueOptions,te=J.labelOptions,ne=J.options,re=r.useCallback(function(e){return ze(e).map(function(e){var t,n,r,o,i,a;(function(e){return!e||"object"!==(0,y.A)(e)})(e)?t=e:(r=e.key,n=e.label,t=null!==(a=e.value)&&void 0!==a?a:r);var u,l=ee.get(t);l&&(void 0===n&&(n=null==l?void 0:l[O||Y.label]),void 0===r&&(r=null!==(u=null==l?void 0:l.key)&&void 0!==u?u:t),o=null==l?void 0:l.disabled,i=null==l?void 0:l.title);return{label:n,value:t,key:r,disabled:o,title:i}})},[Y,O,ee]),oe=(0,b.A)(j,{value:H}),ie=(0,m.A)(oe,2),ae=ie[0],ue=ie[1],le=function(e,t){var n=r.useRef({values:new Map,options:new Map});return[r.useMemo(function(){var r=n.current,o=r.values,i=r.options,a=e.map(function(e){var t;return void 0===e.label?(0,h.A)((0,h.A)({},e),{},{label:null===(t=o.get(e.value))||void 0===t?void 0:t.label}):e}),u=new Map,l=new Map;return a.forEach(function(e){u.set(e.value,e),l.set(e.value,t.get(e.value)||i.get(e.value))}),n.current.values=u,n.current.options=l,a},[e,t]),r.useCallback(function(e){return t.get(e)||n.current.options.get(e)},[t])]}(r.useMemo(function(){var e,t=re(ae);return"combobox"!==o||null!==(e=t[0])&&void 0!==e&&e.value?t:[]},[ae,re,o]),ee),se=(0,m.A)(le,2),ce=se[0],fe=se[1],de=r.useMemo(function(){if(!o&&1===ce.length){var e=ce[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return ce.map(function(e){var t;return(0,h.A)((0,h.A)({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})})},[o,ce]),pe=r.useMemo(function(){return new Set(ce.map(function(e){return e.value}))},[ce]);r.useEffect(function(){if("combobox"===o){var e,t=null===(e=ce[0])||void 0===e?void 0:e.value;Z(function(e){return null!=e}(t)?String(t):"")}},[ce]);var ve=dr(function(e,t){var n,r=null!=t?t:e;return n={},(0,c.A)(n,Y.value,e),(0,c.A)(n,Y.label,r),n}),he=function(e,t,n,o,i){return r.useMemo(function(){if(!n||!1===o)return e;var r=t.options,a=t.label,u=t.value,l=[],s="function"==typeof o,f=n.toUpperCase(),d=s?o:function(e,t){return i?ir(t[i],f):t[r]?ir(t["children"!==a?a:"label"],f):ir(t[u],f)},p=s?function(e){return Jn(e)}:function(e){return e};return e.forEach(function(e){if(e[r])if(d(n,p(e)))l.push(e);else{var t=e[r].filter(function(e){return d(n,p(e))});t.length&&l.push((0,h.A)((0,h.A)({},e),{},(0,c.A)({},r,t)))}else d(n,p(e))&&l.push(e)}),l},[e,o,i,n,t])}(r.useMemo(function(){if("tags"!==o)return ne;var e=(0,v.A)(ne);return(0,v.A)(ce).sort(function(e,t){return e.value<t.value?-1:1}).forEach(function(t){var n=t.value;(function(e){return ee.has(e)})(n)||e.push(ve(n,t.label))}),e},[ve,ne,ee,ce,o]),Y,Q,K,F),me=r.useMemo(function(){return"tags"!==o||!Q||he.some(function(e){return e[F||"value"]===Q})?he:[ve(Q)].concat((0,v.A)(he))},[ve,F,o,he,Q]),ge=r.useMemo(function(){return P?(0,v.A)(me).sort(function(e,t){return P(e,t)}):me},[me,P]),ye=r.useMemo(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,o=[],i=Zn(n,!1),a=i.label,u=i.value,l=i.options;return function e(t,n){t.forEach(function(t){var i=t[a];if(n||!(l in t)){var s=t[u];o.push({key:Qn(t,o.length),groupOption:n,data:t,label:i,value:s})}else{var c=i;void 0===c&&r&&(c=t.label),o.push({key:Qn(t,o.length),group:!0,data:t,label:c}),e(t[l],!0)}})}(e,!1),o}(ge,{fieldNames:Y,childrenAsData:B})},[ge,Y,B]),be=function(e){var t=re(e);if(ue(t),z&&(t.length!==ce.length||t.some(function(e,t){var n;return(null===(n=ce[t])||void 0===n?void 0:n.value)!==(null==e?void 0:e.value)}))){var n=W?t:t.map(function(e){return e.value}),r=t.map(function(e){return Jn(fe(e.value))});z($?n:n[0],$?r:r[0])}},Ae=r.useState(null),we=(0,m.A)(Ae,2),Ee=we[0],Ce=we[1],xe=r.useState(0),Me=(0,m.A)(xe,2),Se=Me[0],Pe=Me[1],Fe=void 0!==R?R:"combobox"!==o,Oe=r.useCallback(function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).source,r=void 0===n?"keyboard":n;Pe(t),u&&"combobox"===o&&null!==e&&"keyboard"===r&&Ce(String(e))},[u,o]),Ne=function(e,t,n){var r=function(){var t,n=fe(e);return[W?{label:null==n?void 0:n[Y.label],value:e,key:null!==(t=null==n?void 0:n.key)&&void 0!==t?t:e}:e,Jn(n)]};if(t&&E){var o=r(),i=(0,m.A)(o,2),a=i[0],u=i[1];E(a,u)}else if(!t&&C&&"clear"!==n){var l=r(),s=(0,m.A)(l,2),c=s[0],f=s[1];C(c,f)}},ke=dr(function(e,t){var n,r=!$||t.selected;n=r?$?[].concat((0,v.A)(ce),[e]):[e]:ce.filter(function(t){return t.value!==e}),be(n),Ne(e,r),"combobox"===o?Ce(""):nr&&!w||(Z(""),Ce(""))}),Re=r.useMemo(function(){var e=!1!==_&&!1!==M;return(0,h.A)((0,h.A)({},J),{},{flattenOptions:ye,onActiveValue:Oe,defaultActiveFirstOption:Fe,onSelect:ke,menuItemSelectedIcon:T,rawValues:pe,fieldNames:Y,virtual:e,listHeight:I,listItemHeight:L,childrenAsData:B})},[J,ye,Oe,Fe,ke,T,pe,Y,_,M,I,L,B]);return r.createElement(jr.Provider,{value:Re},r.createElement(or,(0,f.A)({},U,{id:q,prefixCls:a,ref:t,omitDomProps:Kr,mode:o,displayValues:de,onDisplayValuesChange:function(e,t){be(e);var n=t.type,r=t.values;"remove"!==n&&"clear"!==n||r.forEach(function(e){Ne(e.value,!1,n)})},searchValue:Q,onSearch:function(e,t){if(Z(e),Ce(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===o&&be(e),null==p||p(e));else{var n=(e||"").trim();if(n){var r=Array.from(new Set([].concat((0,v.A)(pe),[n])));be(r),Ne(n,!0),Z("")}}},autoClearSearchValue:w,onSearchSplit:function(e){var t=e;"tags"!==o&&(t=e.map(function(e){var t=te.get(e);return null==t?void 0:t.value}).filter(function(e){return void 0!==e}));var n=Array.from(new Set([].concat((0,v.A)(pe),(0,v.A)(t))));be(n),n.forEach(function(e){Ne(e,!0)})},dropdownMatchSelectWidth:M,OptionList:$r,emptyOptions:!ye.length,activeValue:Ee,activeDescendantId:"".concat(q,"_list_").concat(Se)})))});var Xr=Yr;Xr.Option=mr,Xr.OptGroup=vr;var Gr=Xr,Qr=n(62279),Zr=(0,r.createContext)(void 0),Jr={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},eo={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},to={lang:(0,f.A)({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Jr),timePickerLocale:(0,f.A)({},eo)},no="${label} is not a valid ${type}",ro={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:to,TimePicker:eo,Calendar:to,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:no,method:no,array:no,object:no,number:no,date:no,boolean:no,integer:no,float:no,regexp:no,email:no,url:no,hex:no},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},oo=function(e){var t=e.componentName,n=void 0===t?"global":t,o=e.defaultLocale,i=e.children,a=r.useContext(Zr),u=r.useMemo(function(){var e,t=o||ro[n],r=null!==(e=null==a?void 0:a[n])&&void 0!==e?e:{};return(0,f.A)((0,f.A)({},t instanceof Function?t():t),r||{})},[n,o,a]);return i(u,r.useMemo(function(){var e=a&&a.locale;return a&&a.exist&&!e?ro.locale:e},[a]),a)},io=function(){var e=(0,r.useContext(Qr.QO).getPrefixCls)("empty-img-default");return r.createElement("svg",{className:e,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",{transform:"translate(24 31.67)"},r.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),r.createElement("path",{className:"".concat(e,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),r.createElement("path",{className:"".concat(e,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),r.createElement("path",{className:"".concat(e,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),r.createElement("path",{className:"".concat(e,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),r.createElement("path",{className:"".concat(e,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),r.createElement("g",{className:"".concat(e,"-g"),transform:"translate(149.65 15.383)"},r.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),r.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},ao=function(){var e=(0,r.useContext(Qr.QO).getPrefixCls)("empty-img-simple");return r.createElement("svg",{className:e,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},r.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),r.createElement("g",{className:"".concat(e,"-g"),fillRule:"nonzero"},r.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),r.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(e,"-path")}))))},uo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},lo=r.createElement(io,null),so=r.createElement(ao,null),co=function(e){var t=e.className,n=e.prefixCls,o=e.image,i=void 0===o?lo:o,a=e.description,u=e.children,l=e.imageStyle,s=uo(e,["className","prefixCls","image","description","children","imageStyle"]),d=r.useContext(Qr.QO),v=d.getPrefixCls,h=d.direction;return r.createElement(oo,{componentName:"Empty"},function(e){var o=v("empty",n),d=void 0!==a?a:e.description,m="string"==typeof d?d:"empty",g=null;return g="string"==typeof i?r.createElement("img",{alt:m,src:i}):i,r.createElement("div",(0,f.A)({className:p()(o,(0,c.A)((0,c.A)({},"".concat(o,"-normal"),i===so),"".concat(o,"-rtl"),"rtl"===h),t)},s),r.createElement("div",{className:"".concat(o,"-image"),style:l},g),d&&r.createElement("div",{className:"".concat(o,"-description")},d),u&&r.createElement("div",{className:"".concat(o,"-footer")},u))})};co.PRESENTED_IMAGE_DEFAULT=lo,co.PRESENTED_IMAGE_SIMPLE=so;var fo=co,po=function(e){return r.createElement(Qr.TG,null,function(t){var n=(0,t.getPrefixCls)("empty");switch(e){case"Table":case"List":return r.createElement(fo,{image:fo.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return r.createElement(fo,{image:fo.PRESENTED_IMAGE_SIMPLE,className:"".concat(n,"-small")});default:return r.createElement(fo,null)}})},vo=n(98119),ho=n(48224),mo="RC_FORM_INTERNAL_HOOKS",go=function(){(0,A.Ay)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},yo=r.createContext({getFieldValue:go,getFieldsValue:go,getFieldError:go,getFieldWarning:go,getFieldsError:go,isFieldsTouched:go,isFieldTouched:go,isFieldValidating:go,isFieldsValidating:go,resetFields:go,setFields:go,setFieldValue:go,setFieldsValue:go,validateFields:go,submit:go,getInternalHooks:function(){return go(),{dispatch:go,initEntityValue:go,registerField:go,useSubscribe:go,setInitialValues:go,destroyForm:go,setCallbacks:go,registerWatch:go,getFields:go,setValidateMessages:go,setPreserve:go,getInitialValue:go}}}),bo=r.createContext(null);function Ao(e){return null==e?[]:Array.isArray(e)?e:[e]}function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wo.apply(this,arguments)}function Eo(e){return Eo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Eo(e)}function Co(e,t){return Co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Co(e,t)}function xo(e,t,n){return xo=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Co(o,n.prototype),o},xo.apply(null,arguments)}function Mo(e){var t="function"==typeof Map?new Map:void 0;return Mo=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return xo(e,arguments,Eo(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Co(r,e)},Mo(e)}var So=/%[sdj%]/g;function Po(e){if(!e||!e.length)return null;var t={};return e.forEach(function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)}),t}function Fo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i=n.length;return"function"==typeof e?e.apply(null,n):"string"==typeof e?e.replace(So,function(e){if("%%"===e)return"%";if(o>=i)return e;switch(e){case"%s":return String(n[o++]);case"%d":return Number(n[o++]);case"%j":try{return JSON.stringify(n[o++])}catch(t){return"[Circular]"}break;default:return e}}):e}function Oo(e,t){return null==e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!=typeof e||e))}function No(e,t,n){var r=0,o=e.length;!function i(a){if(a&&a.length)n(a);else{var u=r;r+=1,u<o?t(e[u],i):n([])}}([])}var ko=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Co(t,n),r}(Mo(Error));function Ro(e,t,n,r,o){if(t.first){var i=new Promise(function(t,i){var a=function(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,e[n]||[])}),t}(e);No(a,n,function(e){return r(e),e.length?i(new ko(e,Po(e))):t(o)})});return i.catch(function(e){return e}),i}var a=!0===t.firstFields?Object.keys(e):t.firstFields||[],u=Object.keys(e),l=u.length,s=0,c=[],f=new Promise(function(t,i){var f=function(e){if(c.push.apply(c,e),++s===l)return r(c),c.length?i(new ko(c,Po(c))):t(o)};u.length||(r(c),t(o)),u.forEach(function(t){var r=e[t];-1!==a.indexOf(t)?No(r,n,f):function(e,t,n){var r=[],o=0,i=e.length;function a(e){r.push.apply(r,e||[]),++o===i&&n(r)}e.forEach(function(e){t(e,a)})}(r,n,f)})});return f.catch(function(e){return e}),f}function To(e,t){return function(n){var r,o;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(null==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(o=n)&&void 0!==o.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"==typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function _o(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"==typeof r&&"object"==typeof e[n]?e[n]=wo({},e[n],r):e[n]=r}return e}var Do,Io=function(e,t,n,r,o,i){!e.required||n.hasOwnProperty(e.field)&&!Oo(t,i||e.type)||r.push(Fo(o.messages.required,e.fullField))},Vo=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,Lo=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,Ho={integer:function(e){return Ho.number(e)&&parseInt(e,10)===e},float:function(e){return Ho.number(e)&&!Ho.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"==typeof e&&!Ho.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&e.length<=320&&!!e.match(Vo)},url:function(e){return"string"==typeof e&&e.length<=2048&&!!e.match(function(){if(Do)return Do;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",o=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),i=new RegExp("(?:^"+n+"$)|(?:^"+o+"$)"),a=new RegExp("^"+n+"$"),u=new RegExp("^"+o+"$"),l=function(e){return e&&e.exact?i:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+o+t(e)+")","g")};l.v4=function(e){return e&&e.exact?a:new RegExp(""+t(e)+n+t(e),"g")},l.v6=function(e){return e&&e.exact?u:new RegExp(""+t(e)+o+t(e),"g")};var s=l.v4().source,c=l.v6().source;return Do=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+s+"|"+c+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"==typeof e&&!!e.match(Lo)}},jo="enum",Wo={required:Io,whitespace:function(e,t,n,r,o){(/^\s+$/.test(t)||""===t)&&r.push(Fo(o.messages.whitespace,e.fullField))},type:function(e,t,n,r,o){if(e.required&&void 0===t)Io(e,t,n,r,o);else{var i=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(i)>-1?Ho[i](t)||r.push(Fo(o.messages.types[i],e.fullField,e.type)):i&&typeof t!==e.type&&r.push(Fo(o.messages.types[i],e.fullField,e.type))}},range:function(e,t,n,r,o){var i="number"==typeof e.len,a="number"==typeof e.min,u="number"==typeof e.max,l=t,s=null,c="number"==typeof t,f="string"==typeof t,d=Array.isArray(t);if(c?s="number":f?s="string":d&&(s="array"),!s)return!1;d&&(l=t.length),f&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),i?l!==e.len&&r.push(Fo(o.messages[s].len,e.fullField,e.len)):a&&!u&&l<e.min?r.push(Fo(o.messages[s].min,e.fullField,e.min)):u&&!a&&l>e.max?r.push(Fo(o.messages[s].max,e.fullField,e.max)):a&&u&&(l<e.min||l>e.max)&&r.push(Fo(o.messages[s].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,o){e[jo]=Array.isArray(e[jo])?e[jo]:[],-1===e[jo].indexOf(t)&&r.push(Fo(o.messages[jo],e.fullField,e[jo].join(", ")))},pattern:function(e,t,n,r,o){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(Fo(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"==typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(Fo(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},zo=function(e,t,n,r,o){var i=e.type,a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oo(t,i)&&!e.required)return n();Wo.required(e,t,r,a,o,i),Oo(t,i)||Wo.type(e,t,r,a,o)}n(a)},Uo={string:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oo(t,"string")&&!e.required)return n();Wo.required(e,t,r,i,o,"string"),Oo(t,"string")||(Wo.type(e,t,r,i,o),Wo.range(e,t,r,i,o),Wo.pattern(e,t,r,i,o),!0===e.whitespace&&Wo.whitespace(e,t,r,i,o))}n(i)},method:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oo(t)&&!e.required)return n();Wo.required(e,t,r,i,o),void 0!==t&&Wo.type(e,t,r,i,o)}n(i)},number:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),Oo(t)&&!e.required)return n();Wo.required(e,t,r,i,o),void 0!==t&&(Wo.type(e,t,r,i,o),Wo.range(e,t,r,i,o))}n(i)},boolean:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oo(t)&&!e.required)return n();Wo.required(e,t,r,i,o),void 0!==t&&Wo.type(e,t,r,i,o)}n(i)},regexp:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oo(t)&&!e.required)return n();Wo.required(e,t,r,i,o),Oo(t)||Wo.type(e,t,r,i,o)}n(i)},integer:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oo(t)&&!e.required)return n();Wo.required(e,t,r,i,o),void 0!==t&&(Wo.type(e,t,r,i,o),Wo.range(e,t,r,i,o))}n(i)},float:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oo(t)&&!e.required)return n();Wo.required(e,t,r,i,o),void 0!==t&&(Wo.type(e,t,r,i,o),Wo.range(e,t,r,i,o))}n(i)},array:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(null==t&&!e.required)return n();Wo.required(e,t,r,i,o,"array"),null!=t&&(Wo.type(e,t,r,i,o),Wo.range(e,t,r,i,o))}n(i)},object:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oo(t)&&!e.required)return n();Wo.required(e,t,r,i,o),void 0!==t&&Wo.type(e,t,r,i,o)}n(i)},enum:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oo(t)&&!e.required)return n();Wo.required(e,t,r,i,o),void 0!==t&&Wo.enum(e,t,r,i,o)}n(i)},pattern:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oo(t,"string")&&!e.required)return n();Wo.required(e,t,r,i,o),Oo(t,"string")||Wo.pattern(e,t,r,i,o)}n(i)},date:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oo(t,"date")&&!e.required)return n();var a;if(Wo.required(e,t,r,i,o),!Oo(t,"date"))a=t instanceof Date?t:new Date(t),Wo.type(e,a,r,i,o),a&&Wo.range(e,a.getTime(),r,i,o)}n(i)},url:zo,hex:zo,email:zo,required:function(e,t,n,r,o){var i=[],a=Array.isArray(t)?"array":typeof t;Wo.required(e,t,r,i,o,a),n(i)},any:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oo(t)&&!e.required)return n();Wo.required(e,t,r,i,o)}n(i)}};function qo(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var $o=qo(),Bo=function(){function e(e){this.rules=null,this._messages=$o,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach(function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]})},t.messages=function(e){return e&&(this._messages=_o(qo(),e)),this._messages},t.validate=function(t,n,r){var o=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var i=t,a=n,u=r;if("function"==typeof a&&(u=a,a={}),!this.rules||0===Object.keys(this.rules).length)return u&&u(null,i),Promise.resolve(i);if(a.messages){var l=this.messages();l===$o&&(l=qo()),_o(l,a.messages),a.messages=l}else a.messages=this.messages();var s={};(a.keys||Object.keys(this.rules)).forEach(function(e){var n=o.rules[e],r=i[e];n.forEach(function(n){var a=n;"function"==typeof a.transform&&(i===t&&(i=wo({},i)),r=i[e]=a.transform(r)),(a="function"==typeof a?{validator:a}:wo({},a)).validator=o.getValidationMethod(a),a.validator&&(a.field=e,a.fullField=a.fullField||e,a.type=o.getType(a),s[e]=s[e]||[],s[e].push({rule:a,value:r,source:i,field:e}))})});var c={};return Ro(s,a,function(t,n){var r,o=t.rule,u=!("object"!==o.type&&"array"!==o.type||"object"!=typeof o.fields&&"object"!=typeof o.defaultField);function l(e,t){return wo({},t,{fullField:o.fullField+"."+e,fullFields:o.fullFields?[].concat(o.fullFields,[e]):[e]})}function s(r){void 0===r&&(r=[]);var s=Array.isArray(r)?r:[r];!a.suppressWarning&&s.length&&e.warning("async-validator:",s),s.length&&void 0!==o.message&&(s=[].concat(o.message));var f=s.map(To(o,i));if(a.first&&f.length)return c[o.field]=1,n(f);if(u){if(o.required&&!t.value)return void 0!==o.message?f=[].concat(o.message).map(To(o,i)):a.error&&(f=[a.error(o,Fo(a.messages.required,o.field))]),n(f);var d={};o.defaultField&&Object.keys(t.value).map(function(e){d[e]=o.defaultField}),d=wo({},d,t.rule.fields);var p={};Object.keys(d).forEach(function(e){var t=d[e],n=Array.isArray(t)?t:[t];p[e]=n.map(l.bind(null,e))});var v=new e(p);v.messages(a.messages),t.rule.options&&(t.rule.options.messages=a.messages,t.rule.options.error=a.error),v.validate(t.value,t.rule.options||a,function(e){var t=[];f&&f.length&&t.push.apply(t,f),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)})}else n(f)}if(u=u&&(o.required||!o.required&&t.value),o.field=t.field,o.asyncValidator)r=o.asyncValidator(o,t.value,s,t.source,a);else if(o.validator){try{r=o.validator(o,t.value,s,t.source,a)}catch(f){null==console.error||console.error(f),a.suppressValidatorError||setTimeout(function(){throw f},0),s(f.message)}!0===r?s():!1===r?s("function"==typeof o.message?o.message(o.fullField||o.field):o.message||(o.fullField||o.field)+" fails"):r instanceof Array?s(r):r instanceof Error&&s(r.message)}r&&r.then&&r.then(function(){return s()},function(e){return s(e)})},function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var o=0;o<e.length;o++)r(e[o]);t.length?(n=Po(t),u(t,n)):u(null,i)}(e)},i)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!Uo.hasOwnProperty(e.type))throw new Error(Fo("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?Uo.required:Uo[this.getType(e)]||void 0},e}();Bo.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");Uo[e]=t},Bo.warning=function(){},Bo.messages=$o,Bo.validators=Uo;var Ko="'${name}' is not a valid ${type}",Yo={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Ko,method:Ko,array:Ko,object:Ko,number:Ko,date:Ko,boolean:Ko,integer:Ko,float:Ko,regexp:Ko,email:Ko,url:Ko,hex:Ko},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},Xo=n(20488),Go=Bo;function Qo(e,t){return e.replace(/\$\{\w+\}/g,function(e){var n=e.slice(2,-1);return t[n]})}var Zo="CODE_LOGIC_ERROR";function Jo(e,t,n,r,o){return ei.apply(this,arguments)}function ei(){return ei=Fn(Sn().mark(function e(t,n,o,i,a){var u,l,s,f,d,p,m,g,y;return Sn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return delete(u=(0,h.A)({},o)).ruleIndex,Go.warning=function(){},u.validator&&(l=u.validator,u.validator=function(){try{return l.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(Zo)}}),s=null,u&&"array"===u.type&&u.defaultField&&(s=u.defaultField,delete u.defaultField),f=new Go((0,c.A)({},t,[u])),d=(0,Xo.h)(Yo,i.validateMessages),f.messages(d),p=[],e.prev=10,e.next=13,Promise.resolve(f.validate((0,c.A)({},t,n),(0,h.A)({},i)));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),e.t0.errors&&(p=e.t0.errors.map(function(e,t){var n=e.message,o=n===Zo?d.default:n;return r.isValidElement(o)?r.cloneElement(o,{key:"error_".concat(t)}):o}));case 18:if(p.length||!s){e.next=23;break}return e.next=21,Promise.all(n.map(function(e,n){return Jo("".concat(t,".").concat(n),e,s,i,a)}));case 21:return m=e.sent,e.abrupt("return",m.reduce(function(e,t){return[].concat((0,v.A)(e),(0,v.A)(t))},[]));case 23:return g=(0,h.A)((0,h.A)({},o),{},{name:t,enum:(o.enum||[]).join(", ")},a),y=p.map(function(e){return"string"==typeof e?Qo(e,g):e}),e.abrupt("return",y);case 26:case"end":return e.stop()}},e,null,[[10,15]])})),ei.apply(this,arguments)}function ti(e,t,n,r,o,i){var a,u=e.join("."),l=n.map(function(e,t){var n=e.validator,r=(0,h.A)((0,h.A)({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var o=!1,i=n(e,t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then(function(){(0,A.Ay)(!o,"Your validator function has already return a promise. `callback` will be ignored."),o||r.apply(void 0,t)})});o=i&&"function"==typeof i.then&&"function"==typeof i.catch,(0,A.Ay)(o,"`callback` is deprecated. Please return a promise instead."),o&&i.then(function(){r()}).catch(function(e){r(e||" ")})}),r}).sort(function(e,t){var n=e.warningOnly,r=e.ruleIndex,o=t.warningOnly,i=t.ruleIndex;return!!n==!!o?r-i:n?1:-1});if(!0===o)a=new Promise(function(){var e=Fn(Sn().mark(function e(n,o){var a,s,c;return Sn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<l.length)){e.next=12;break}return s=l[a],e.next=5,Jo(u,t,s,r,i);case 5:if(!(c=e.sent).length){e.next=9;break}return o([{errors:c,rule:s}]),e.abrupt("return");case 9:a+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());else{var s=l.map(function(e){return Jo(u,t,e,r,i).then(function(t){return{errors:t,rule:e}})});a=(o?function(e){return ri.apply(this,arguments)}(s):function(e){return ni.apply(this,arguments)}(s)).then(function(e){return Promise.reject(e)})}return a.catch(function(e){return e}),a}function ni(){return(ni=Fn(Sn().mark(function e(t){return Sn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then(function(e){var t;return(t=[]).concat.apply(t,(0,v.A)(e))}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ri(){return(ri=Fn(Sn().mark(function e(t){var n;return Sn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise(function(e){t.forEach(function(r){r.then(function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])})})}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var oi=n(16300);function ii(e){return Ao(e)}function ai(e,t){var n={};return t.forEach(function(t){var r=(0,oi.A)(e,t);n=(0,Xo.A)(n,t,r)}),n}function ui(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&e.some(function(e){return li(t,e,n)})}function li(e,t){return!(!e||!t)&&(!(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&e.length!==t.length)&&t.every(function(t,n){return e[n]===t}))}function si(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===(0,y.A)(t.target)&&e in t.target?t.target[e]:t}function ci(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var o=e[t],i=t-n;return i>0?[].concat((0,v.A)(e.slice(0,n)),[o],(0,v.A)(e.slice(n,t)),(0,v.A)(e.slice(t+1,r))):i<0?[].concat((0,v.A)(e.slice(0,t)),(0,v.A)(e.slice(t+1,n+1)),[o],(0,v.A)(e.slice(n+1,r))):e}var fi=["name"],di=[];function pi(e,t,n,r,o,i){return"function"==typeof e?e(t,n,"source"in i?{source:i.source}:{}):r!==o}var vi=function(e){(0,ae.A)(n,e);var t=(0,ue.A)(n);function n(e){var o;((0,oe.A)(this,n),o=t.call(this,e),(0,c.A)((0,Je.A)(o),"state",{resetCount:0}),(0,c.A)((0,Je.A)(o),"cancelRegisterFunc",null),(0,c.A)((0,Je.A)(o),"mounted",!1),(0,c.A)((0,Je.A)(o),"touched",!1),(0,c.A)((0,Je.A)(o),"dirty",!1),(0,c.A)((0,Je.A)(o),"validatePromise",void 0),(0,c.A)((0,Je.A)(o),"prevValidating",void 0),(0,c.A)((0,Je.A)(o),"errors",di),(0,c.A)((0,Je.A)(o),"warnings",di),(0,c.A)((0,Je.A)(o),"cancelRegister",function(){var e=o.props,t=e.preserve,n=e.isListField,r=e.name;o.cancelRegisterFunc&&o.cancelRegisterFunc(n,t,ii(r)),o.cancelRegisterFunc=null}),(0,c.A)((0,Je.A)(o),"getNamePath",function(){var e=o.props,t=e.name,n=e.fieldContext.prefixName,r=void 0===n?[]:n;return void 0!==t?[].concat((0,v.A)(r),(0,v.A)(t)):[]}),(0,c.A)((0,Je.A)(o),"getRules",function(){var e=o.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map(function(e){return"function"==typeof e?e(r):e})}),(0,c.A)((0,Je.A)(o),"refresh",function(){o.mounted&&o.setState(function(e){return{resetCount:e.resetCount+1}})}),(0,c.A)((0,Je.A)(o),"metaCache",null),(0,c.A)((0,Je.A)(o),"triggerMetaEvent",function(e){var t=o.props.onMetaChange;if(t){var n=(0,h.A)((0,h.A)({},o.getMeta()),{},{destroy:e});fn(o.metaCache,n)||t(n),o.metaCache=n}else o.metaCache=null}),(0,c.A)((0,Je.A)(o),"onStoreChange",function(e,t,n){var r=o.props,i=r.shouldUpdate,a=r.dependencies,u=void 0===a?[]:a,l=r.onReset,s=n.store,c=o.getNamePath(),f=o.getValue(e),d=o.getValue(s),p=t&&ui(t,c);switch("valueUpdate"===n.type&&"external"===n.source&&f!==d&&(o.touched=!0,o.dirty=!0,o.validatePromise=null,o.errors=di,o.warnings=di,o.triggerMetaEvent()),n.type){case"reset":if(!t||p)return o.touched=!1,o.dirty=!1,o.validatePromise=void 0,o.errors=di,o.warnings=di,o.triggerMetaEvent(),null==l||l(),void o.refresh();break;case"remove":if(i)return void o.reRender();break;case"setField":var v=n.data;if(p)return"touched"in v&&(o.touched=v.touched),"validating"in v&&!("originRCField"in v)&&(o.validatePromise=v.validating?Promise.resolve([]):null),"errors"in v&&(o.errors=v.errors||di),"warnings"in v&&(o.warnings=v.warnings||di),o.dirty=!0,o.triggerMetaEvent(),void o.reRender();if("value"in v&&ui(t,c,!0))return void o.reRender();if(i&&!c.length&&pi(i,e,s,f,d,n))return void o.reRender();break;case"dependenciesUpdate":if(u.map(ii).some(function(e){return ui(n.relatedFields,e)}))return void o.reRender();break;default:if(p||(!u.length||c.length||i)&&pi(i,e,s,f,d,n))return void o.reRender()}!0===i&&o.reRender()}),(0,c.A)((0,Je.A)(o),"validateRules",function(e){var t=o.getNamePath(),n=o.getValue(),r=e||{},i=r.triggerName,a=r.validateOnly,u=void 0!==a&&a,l=Promise.resolve().then(Fn(Sn().mark(function r(){var a,u,s,c,f,d,p;return Sn().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o.mounted){r.next=2;break}return r.abrupt("return",[]);case 2:if(a=o.props,u=a.validateFirst,s=void 0!==u&&u,c=a.messageVariables,f=a.validateDebounce,d=o.getRules(),i&&(d=d.filter(function(e){return e}).filter(function(e){var t=e.validateTrigger;return!t||Ao(t).includes(i)})),!f||!i){r.next=10;break}return r.next=8,new Promise(function(e){setTimeout(e,f)});case 8:if(o.validatePromise===l){r.next=10;break}return r.abrupt("return",[]);case 10:return(p=ti(t,n,d,e,s,c)).catch(function(e){return e}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di;if(o.validatePromise===l){var t;o.validatePromise=null;var n=[],r=[];null===(t=e.forEach)||void 0===t||t.call(e,function(e){var t=e.rule.warningOnly,o=e.errors,i=void 0===o?di:o;t?r.push.apply(r,(0,v.A)(i)):n.push.apply(n,(0,v.A)(i))}),o.errors=n,o.warnings=r,o.triggerMetaEvent(),o.reRender()}}),r.abrupt("return",p);case 13:case"end":return r.stop()}},r)})));return u||(o.validatePromise=l,o.dirty=!0,o.errors=di,o.warnings=di,o.triggerMetaEvent(),o.reRender()),l}),(0,c.A)((0,Je.A)(o),"isFieldValidating",function(){return!!o.validatePromise}),(0,c.A)((0,Je.A)(o),"isFieldTouched",function(){return o.touched}),(0,c.A)((0,Je.A)(o),"isFieldDirty",function(){return!(!o.dirty&&void 0===o.props.initialValue)||void 0!==(0,o.props.fieldContext.getInternalHooks(mo).getInitialValue)(o.getNamePath())}),(0,c.A)((0,Je.A)(o),"getErrors",function(){return o.errors}),(0,c.A)((0,Je.A)(o),"getWarnings",function(){return o.warnings}),(0,c.A)((0,Je.A)(o),"isListField",function(){return o.props.isListField}),(0,c.A)((0,Je.A)(o),"isList",function(){return o.props.isList}),(0,c.A)((0,Je.A)(o),"isPreserve",function(){return o.props.preserve}),(0,c.A)((0,Je.A)(o),"getMeta",function(){return o.prevValidating=o.isFieldValidating(),{touched:o.isFieldTouched(),validating:o.prevValidating,errors:o.errors,warnings:o.warnings,name:o.getNamePath(),validated:null===o.validatePromise}}),(0,c.A)((0,Je.A)(o),"getOnlyChild",function(e){if("function"==typeof e){var t=o.getMeta();return(0,h.A)((0,h.A)({},o.getOnlyChild(e(o.getControlled(),t,o.props.fieldContext))),{},{isFunction:!0})}var n=(0,k.A)(e);return 1===n.length&&r.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}}),(0,c.A)((0,Je.A)(o),"getValue",function(e){var t=o.props.fieldContext.getFieldsValue,n=o.getNamePath();return(0,oi.A)(e||t(!0),n)}),(0,c.A)((0,Je.A)(o),"getControlled",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.props,n=t.trigger,r=t.validateTrigger,i=t.getValueFromEvent,a=t.normalize,u=t.valuePropName,l=t.getValueProps,s=t.fieldContext,f=void 0!==r?r:s.validateTrigger,d=o.getNamePath(),p=s.getInternalHooks,v=s.getFieldsValue,m=p(mo).dispatch,g=o.getValue(),y=l||function(e){return(0,c.A)({},u,e)},b=e[n],A=(0,h.A)((0,h.A)({},e),y(g));return A[n]=function(){var e;o.touched=!0,o.dirty=!0,o.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=i?i.apply(void 0,n):si.apply(void 0,[u].concat(n)),a&&(e=a(e,g,v(!0))),m({type:"updateValue",namePath:d,value:e}),b&&b.apply(void 0,n)},Ao(f||[]).forEach(function(e){var t=A[e];A[e]=function(){t&&t.apply(void 0,arguments);var n=o.props.rules;n&&n.length&&m({type:"validateField",namePath:d,triggerName:e})}}),A}),e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(mo).initEntityValue)((0,Je.A)(o));return o}return(0,ie.A)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(mo).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,o=this.getOnlyChild(n),i=o.child;return o.isFunction?e=i:r.isValidElement(i)?e=r.cloneElement(i,this.getControlled(i.props)):((0,A.Ay)(!i,"`children` of Field is not validate ReactElement."),e=i),r.createElement(r.Fragment,{key:t},e)}}]),n}(r.Component);(0,c.A)(vi,"contextType",yo),(0,c.A)(vi,"defaultProps",{trigger:"onChange",valuePropName:"value"});var hi=function(e){var t=e.name,n=(0,g.A)(e,fi),o=r.useContext(yo),i=r.useContext(bo),a=void 0!==t?ii(t):void 0,u="keep";return n.isListField||(u="_".concat((a||[]).join("_"))),r.createElement(vi,(0,f.A)({key:u,name:a,isListField:!!i},n,{fieldContext:o}))};var mi=function(e){var t=e.name,n=e.initialValue,o=e.children,i=e.rules,a=e.validateTrigger,u=e.isListField,l=r.useContext(yo),s=r.useContext(bo),c=r.useRef({keys:[],id:0}).current,f=r.useMemo(function(){var e=ii(l.prefixName)||[];return[].concat((0,v.A)(e),(0,v.A)(ii(t)))},[l.prefixName,t]),d=r.useMemo(function(){return(0,h.A)((0,h.A)({},l),{},{prefixName:f})},[l,f]),p=r.useMemo(function(){return{getKey:function(e){var t=f.length,n=e[t];return[c.keys[n],e.slice(t+1)]}}},[f]);return"function"!=typeof o?((0,A.Ay)(!1,"Form.List only accepts function as children."),null):r.createElement(bo.Provider,{value:p},r.createElement(yo.Provider,{value:d},r.createElement(hi,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:i,validateTrigger:a,initialValue:n,isList:!0,isListField:null!=u?u:!!s},function(e,t){var n=e.value,r=void 0===n?[]:n,i=e.onChange,a=l.getFieldValue,u=function(){return a(f||[])||[]},s={add:function(e,t){var n=u();t>=0&&t<=n.length?(c.keys=[].concat((0,v.A)(c.keys.slice(0,t)),[c.id],(0,v.A)(c.keys.slice(t))),i([].concat((0,v.A)(n.slice(0,t)),[e],(0,v.A)(n.slice(t))))):(c.keys=[].concat((0,v.A)(c.keys),[c.id]),i([].concat((0,v.A)(n),[e]))),c.id+=1},remove:function(e){var t=u(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(c.keys=c.keys.filter(function(e,t){return!n.has(t)}),i(t.filter(function(e,t){return!n.has(t)})))},move:function(e,t){if(e!==t){var n=u();e<0||e>=n.length||t<0||t>=n.length||(c.keys=ci(c.keys,e,t),i(ci(n,e,t)))}}},d=r||[];return Array.isArray(d)||(d=[]),o(d.map(function(e,t){var n=c.keys[t];return void 0===n&&(c.keys[t]=c.id,n=c.keys[t],c.id+=1),{name:t,key:n,isListField:!0}}),s,t)})))};var gi="__@field_split__";function yi(e){return e.map(function(e){return"".concat((0,y.A)(e),":").concat(e)}).join(gi)}var bi=function(){function e(){(0,oe.A)(this,e),(0,c.A)(this,"kvs",new Map)}return(0,ie.A)(e,[{key:"set",value:function(e,t){this.kvs.set(yi(e),t)}},{key:"get",value:function(e){return this.kvs.get(yi(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(yi(e))}},{key:"map",value:function(e){return(0,v.A)(this.kvs.entries()).map(function(t){var n=(0,m.A)(t,2),r=n[0],o=n[1],i=r.split(gi);return e({key:i.map(function(e){var t=e.match(/^([^:]*):(.*)$/),n=(0,m.A)(t,3),r=n[1],o=n[2];return"number"===r?Number(o):o}),value:o})})}},{key:"toJSON",value:function(){var e={};return this.map(function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null}),e}}]),e}(),Ai=bi,wi=["name"],Ei=(0,ie.A)(function e(t){var n=this;(0,oe.A)(this,e),(0,c.A)(this,"formHooked",!1),(0,c.A)(this,"forceRootUpdate",void 0),(0,c.A)(this,"subscribable",!0),(0,c.A)(this,"store",{}),(0,c.A)(this,"fieldEntities",[]),(0,c.A)(this,"initialValues",{}),(0,c.A)(this,"callbacks",{}),(0,c.A)(this,"validateMessages",null),(0,c.A)(this,"preserve",null),(0,c.A)(this,"lastValidatePromise",null),(0,c.A)(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),(0,c.A)(this,"getInternalHooks",function(e){return e===mo?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):((0,A.Ay)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),(0,c.A)(this,"useSubscribe",function(e){n.subscribable=e}),(0,c.A)(this,"prevWithoutPreserves",null),(0,c.A)(this,"setInitialValues",function(e,t){if(n.initialValues=e||{},t){var r,o=(0,Xo.h)(e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map(function(t){var n=t.key;o=(0,Xo.A)(o,n,(0,oi.A)(e,n))}),n.prevWithoutPreserves=null,n.updateStore(o)}}),(0,c.A)(this,"destroyForm",function(){var e=new Ai;n.getFieldEntities(!0).forEach(function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)}),n.prevWithoutPreserves=e}),(0,c.A)(this,"getInitialValue",function(e){var t=(0,oi.A)(n.initialValues,e);return e.length?(0,Xo.h)(t):t}),(0,c.A)(this,"setCallbacks",function(e){n.callbacks=e}),(0,c.A)(this,"setValidateMessages",function(e){n.validateMessages=e}),(0,c.A)(this,"setPreserve",function(e){n.preserve=e}),(0,c.A)(this,"watchList",[]),(0,c.A)(this,"registerWatch",function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter(function(t){return t!==e})}}),(0,c.A)(this,"notifyWatch",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue(),r=n.getFieldsValue(!0);n.watchList.forEach(function(n){n(t,r,e)})}}),(0,c.A)(this,"timeoutId",null),(0,c.A)(this,"warningUnhooked",function(){0}),(0,c.A)(this,"updateStore",function(e){n.store=e}),(0,c.A)(this,"getFieldEntities",function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?n.fieldEntities.filter(function(e){return e.getNamePath().length}):n.fieldEntities}),(0,c.A)(this,"getFieldsMap",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Ai;return n.getFieldEntities(e).forEach(function(e){var n=e.getNamePath();t.set(n,e)}),t}),(0,c.A)(this,"getFieldEntitiesForNamePathList",function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map(function(e){var n=ii(e);return t.get(n)||{INVALIDATE_NAME_PATH:ii(e)}})}),(0,c.A)(this,"getFieldsValue",function(e,t){var r,o,i;if(n.warningUnhooked(),!0===e||Array.isArray(e)?(r=e,o=t):e&&"object"===(0,y.A)(e)&&(i=e.strict,o=e.filter),!0===r&&!o)return n.store;var a=n.getFieldEntitiesForNamePathList(Array.isArray(r)?r:null),u=[];return a.forEach(function(e){var t,n,a,l,s="INVALIDATE_NAME_PATH"in e?e.INVALIDATE_NAME_PATH:e.getNamePath();if(i){if(null!==(a=(l=e).isList)&&void 0!==a&&a.call(l))return}else if(!r&&null!==(t=(n=e).isListField)&&void 0!==t&&t.call(n))return;if(o){var c="getMeta"in e?e.getMeta():null;o(c)&&u.push(s)}else u.push(s)}),ai(n.store,u.map(ii))}),(0,c.A)(this,"getFieldValue",function(e){n.warningUnhooked();var t=ii(e);return(0,oi.A)(n.store,t)}),(0,c.A)(this,"getFieldsError",function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map(function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:ii(e[n]),errors:[],warnings:[]}})}),(0,c.A)(this,"getFieldError",function(e){n.warningUnhooked();var t=ii(e);return n.getFieldsError([t])[0].errors}),(0,c.A)(this,"getFieldWarning",function(e){n.warningUnhooked();var t=ii(e);return n.getFieldsError([t])[0].warnings}),(0,c.A)(this,"isFieldsTouched",function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o,i=t[0],a=t[1],u=!1;0===t.length?o=null:1===t.length?Array.isArray(i)?(o=i.map(ii),u=!1):(o=null,u=i):(o=i.map(ii),u=a);var l=n.getFieldEntities(!0),s=function(e){return e.isFieldTouched()};if(!o)return u?l.every(s):l.some(s);var c=new Ai;o.forEach(function(e){c.set(e,[])}),l.forEach(function(e){var t=e.getNamePath();o.forEach(function(n){n.every(function(e,n){return t[n]===e})&&c.update(n,function(t){return[].concat((0,v.A)(t),[e])})})});var f=function(e){return e.some(s)},d=c.map(function(e){return e.value});return u?d.every(f):d.some(f)}),(0,c.A)(this,"isFieldTouched",function(e){return n.warningUnhooked(),n.isFieldsTouched([e])}),(0,c.A)(this,"isFieldsValidating",function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some(function(e){return e.isFieldValidating()});var r=e.map(ii);return t.some(function(e){var t=e.getNamePath();return ui(r,t)&&e.isFieldValidating()})}),(0,c.A)(this,"isFieldValidating",function(e){return n.warningUnhooked(),n.isFieldsValidating([e])}),(0,c.A)(this,"resetWithFieldInitialValue",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Ai,r=n.getFieldEntities(!0);r.forEach(function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var o=t.get(r)||new Set;o.add({entity:e,value:n}),t.set(r,o)}});var o;e.entities?o=e.entities:e.namePathList?(o=[],e.namePathList.forEach(function(e){var n,r=t.get(e);r&&(n=o).push.apply(n,(0,v.A)((0,v.A)(r).map(function(e){return e.entity})))})):o=r,o.forEach(function(r){if(void 0!==r.props.initialValue){var o=r.getNamePath();if(void 0!==n.getInitialValue(o))(0,A.Ay)(!1,"Form already set 'initialValues' with path '".concat(o.join("."),"'. Field can not overwrite it."));else{var i=t.get(o);if(i&&i.size>1)(0,A.Ay)(!1,"Multiple Field with path '".concat(o.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(i){var a=n.getFieldValue(o);e.skipExist&&void 0!==a||n.updateStore((0,Xo.A)(n.store,o,(0,v.A)(i)[0].value))}}}})}),(0,c.A)(this,"resetFields",function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore((0,Xo.h)(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(ii);r.forEach(function(e){var t=n.getInitialValue(e);n.updateStore((0,Xo.A)(n.store,e,t))}),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)}),(0,c.A)(this,"setFields",function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach(function(e){var o=e.name,i=(0,g.A)(e,wi),a=ii(o);r.push(a),"value"in i&&n.updateStore((0,Xo.A)(n.store,a,i.value)),n.notifyObservers(t,[a],{type:"setField",data:e})}),n.notifyWatch(r)}),(0,c.A)(this,"getFields",function(){return n.getFieldEntities(!0).map(function(e){var t=e.getNamePath(),r=e.getMeta(),o=(0,h.A)((0,h.A)({},r),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(o,"originRCField",{value:!0}),o})}),(0,c.A)(this,"initEntityValue",function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===(0,oi.A)(n.store,r)&&n.updateStore((0,Xo.A)(n.store,r,t))}}),(0,c.A)(this,"isMergedPreserve",function(e){var t=void 0!==e?e:n.preserve;return null==t||t}),(0,c.A)(this,"registerField",function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(t){return t!==e}),!n.isMergedPreserve(o)&&(!r||i.length>1)){var a=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==a&&n.fieldEntities.every(function(e){return!li(e.getNamePath(),t)})){var u=n.store;n.updateStore((0,Xo.A)(u,t,a,!0)),n.notifyObservers(u,[t],{type:"remove"}),n.triggerDependenciesUpdate(u,t)}}n.notifyWatch([t])}}),(0,c.A)(this,"dispatch",function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var o=e.namePath,i=e.triggerName;n.validateFields([o],{triggerName:i})}}),(0,c.A)(this,"notifyObservers",function(e,t,r){if(n.subscribable){var o=(0,h.A)((0,h.A)({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(n){(0,n.onStoreChange)(e,t,o)})}else n.forceRootUpdate()}),(0,c.A)(this,"triggerDependenciesUpdate",function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat((0,v.A)(r))}),r}),(0,c.A)(this,"updateValue",function(e,t){var r=ii(e),o=n.store;n.updateStore((0,Xo.A)(n.store,r,t)),n.notifyObservers(o,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var i=n.triggerDependenciesUpdate(o,r),a=n.callbacks.onValuesChange;a&&a(ai(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat((0,v.A)(i)))}),(0,c.A)(this,"setFieldsValue",function(e){n.warningUnhooked();var t=n.store;if(e){var r=(0,Xo.h)(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),(0,c.A)(this,"setFieldValue",function(e,t){n.setFields([{name:e,value:t}])}),(0,c.A)(this,"getDependencyChildrenFields",function(e){var t=new Set,r=[],o=new Ai;n.getFieldEntities().forEach(function(e){(e.props.dependencies||[]).forEach(function(t){var n=ii(t);o.update(n,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t})})});return function e(n){(o.get(n)||new Set).forEach(function(n){if(!t.has(n)){t.add(n);var o=n.getNamePath();n.isFieldDirty()&&o.length&&(r.push(o),e(o))}})}(e),r}),(0,c.A)(this,"triggerOnFieldsChange",function(e,t){var r=n.callbacks.onFieldsChange;if(r){var o=n.getFields();if(t){var i=new Ai;t.forEach(function(e){var t=e.name,n=e.errors;i.set(t,n)}),o.forEach(function(e){e.errors=i.get(e.name)||e.errors})}var a=o.filter(function(t){var n=t.name;return ui(e,n)});a.length&&r(a,o)}}),(0,c.A)(this,"validateFields",function(e,t){var r,o,i;n.warningUnhooked(),Array.isArray(e)||"string"==typeof e||"string"==typeof t?(o=e,i=t):i=e;var a=!!o,u=a?o.map(ii):[],l=[],s=String(Date.now()),c=new Set,f=null===(r=i)||void 0===r?void 0:r.recursive;n.getFieldEntities(!0).forEach(function(e){if(a||u.push(e.getNamePath()),e.props.rules&&e.props.rules.length){var t=e.getNamePath();if(c.add(t.join(s)),!a||ui(u,t,f)){var r=e.validateRules((0,h.A)({validateMessages:(0,h.A)((0,h.A)({},Yo),n.validateMessages)},i));l.push(r.then(function(){return{name:t,errors:[],warnings:[]}}).catch(function(e){var n,r=[],o=[];return null===(n=e.forEach)||void 0===n||n.call(e,function(e){var t=e.rule.warningOnly,n=e.errors;t?o.push.apply(o,(0,v.A)(n)):r.push.apply(r,(0,v.A)(n))}),r.length?Promise.reject({name:t,errors:r,warnings:o}):{name:t,errors:r,warnings:o}}))}}});var d=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise(function(o,i){e.forEach(function(e,a){e.catch(function(e){return t=!0,e}).then(function(e){n-=1,r[a]=e,n>0||(t&&i(r),o(r))})})}):Promise.resolve([])}(l);n.lastValidatePromise=d,d.catch(function(e){return e}).then(function(e){var t=e.map(function(e){return e.name});n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)});var p=d.then(function(){return n.lastValidatePromise===d?Promise.resolve(n.getFieldsValue(u)):Promise.reject([])}).catch(function(e){var t=e.filter(function(e){return e&&e.errors.length});return Promise.reject({values:n.getFieldsValue(u),errorFields:t,outOfDate:n.lastValidatePromise!==d})});p.catch(function(e){return e});var m=u.filter(function(e){return c.has(e.join(s))});return n.triggerOnFieldsChange(m),p}),(0,c.A)(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}}).catch(function(e){var t=n.callbacks.onFinishFailed;t&&t(e)})}),this.forceRootUpdate=t});var Ci=function(e){var t=r.useRef(),n=r.useState({}),o=(0,m.A)(n,2)[1];if(!t.current)if(e)t.current=e;else{var i=new Ei(function(){o({})});t.current=i.getForm()}return[t.current]},xi=r.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Mi=xi,Si=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],Pi=function(e,t){var n=e.name,o=e.initialValues,i=e.fields,a=e.form,u=e.preserve,l=e.children,s=e.component,c=void 0===s?"form":s,d=e.validateMessages,p=e.validateTrigger,b=void 0===p?"onChange":p,A=e.onValuesChange,w=e.onFieldsChange,E=e.onFinish,C=e.onFinishFailed,x=(0,g.A)(e,Si),M=r.useContext(Mi),S=Ci(a),P=(0,m.A)(S,1)[0],F=P.getInternalHooks(mo),O=F.useSubscribe,N=F.setInitialValues,k=F.setCallbacks,R=F.setValidateMessages,T=F.setPreserve,_=F.destroyForm;r.useImperativeHandle(t,function(){return P}),r.useEffect(function(){return M.registerForm(n,P),function(){M.unregisterForm(n)}},[M,P,n]),R((0,h.A)((0,h.A)({},M.validateMessages),d)),k({onValuesChange:A,onFieldsChange:function(e){if(M.triggerFormChange(n,e),w){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];w.apply(void 0,[e].concat(r))}},onFinish:function(e){M.triggerFormFinish(n,e),E&&E(e)},onFinishFailed:C}),T(u);var D,I=r.useRef(null);N(o,!I.current),I.current||(I.current=!0),r.useEffect(function(){return _},[]);var V="function"==typeof l;V?D=l(P.getFieldsValue(!0),P):D=l;O(!V);var L=r.useRef();r.useEffect(function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==(0,y.A)(e)||"object"!==(0,y.A)(t))return!1;var n=Object.keys(e),r=Object.keys(t),o=new Set([].concat(n,r));return(0,v.A)(o).every(function(n){var r=e[n],o=t[n];return"function"==typeof r&&"function"==typeof o||r===o})})(L.current||[],i||[])||P.setFields(i||[]),L.current=i},[i,P]);var H=r.useMemo(function(){return(0,h.A)((0,h.A)({},P),{},{validateTrigger:b})},[P,b]),j=r.createElement(bo.Provider,{value:null},r.createElement(yo.Provider,{value:H},D));return!1===c?j:r.createElement(c,(0,f.A)({},x,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),P.submit()},onReset:function(e){var t;e.preventDefault(),P.resetFields(),null===(t=x.onReset)||void 0===t||t.call(x,e)}}),j)};function Fi(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var Oi=function(){};var Ni=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[0],i=void 0===o?[]:o,a=t[1],u=void 0===a?{}:a,l=function(e){return e&&!!e._init}(u)?{form:u}:u,s=l.form,c=(0,r.useState)(),f=(0,m.A)(c,2),d=f[0],p=f[1],v=(0,r.useMemo)(function(){return Fi(d)},[d]),h=(0,r.useRef)(v);h.current=v;var g=(0,r.useContext)(yo),y=s||g,b=y&&y._init,A=ii(i),w=(0,r.useRef)(A);return w.current=A,Oi(A),(0,r.useEffect)(function(){if(b){var e=y.getFieldsValue,t=(0,(0,y.getInternalHooks)(mo).registerWatch)(function(e,t){var n=(0,oi.A)(l.preserve?t:e,w.current),r=Fi(n);h.current!==r&&(h.current=r,p(n))}),n=(0,oi.A)(l.preserve?e(!0):e(),w.current);return d!==n&&p(n),t}},[b]),d},ki=r.forwardRef(Pi);ki.FormProvider=function(e){var t=e.validateMessages,n=e.onFormChange,o=e.onFormFinish,i=e.children,a=r.useContext(xi),u=r.useRef({});return r.createElement(xi.Provider,{value:(0,h.A)((0,h.A)({},a),{},{validateMessages:(0,h.A)((0,h.A)({},a.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:u.current}),a.triggerFormChange(e,t)},triggerFormFinish:function(e,t){o&&o(e,{values:t,forms:u.current}),a.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(u.current=(0,h.A)((0,h.A)({},u.current),{},(0,c.A)({},e,t))),a.registerForm(e,t)},unregisterForm:function(e){var t=(0,h.A)({},u.current);delete t[e],u.current=t,a.unregisterForm(e)}})},i)},ki.Field=hi,ki.List=mi,ki.useForm=Ci,ki.useWatch=Ni;var Ri=r.createContext({}),Ti=n(59017),_i=((0,Ti.P)("bottomLeft","bottomRight","topLeft","topRight"),function(e){return void 0===e||"topLeft"!==e&&"topRight"!==e?"slide-up":"slide-down"}),Di=function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)};(0,Ti.P)("warning","error","");var Ii={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},Vi=n(17095),Li=function(e,t){return r.createElement(Vi.A,(0,h.A)((0,h.A)({},e),{},{ref:t,icon:Ii}))};var Hi=r.forwardRef(Li),ji={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},Wi=function(e,t){return r.createElement(Vi.A,(0,h.A)((0,h.A)({},e),{},{ref:t,icon:ji}))};var zi=r.forwardRef(Wi),Ui={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},qi=function(e,t){return r.createElement(Vi.A,(0,h.A)((0,h.A)({},e),{},{ref:t,icon:Ui}))};var $i=r.forwardRef(qi),Bi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},Ki=function(e,t){return r.createElement(Vi.A,(0,h.A)((0,h.A)({},e),{},{ref:t,icon:Bi}))};var Yi=r.forwardRef(Ki),Xi=n(93567),Gi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},Qi=function(e,t){return r.createElement(Vi.A,(0,h.A)((0,h.A)({},e),{},{ref:t,icon:Gi}))};var Zi=r.forwardRef(Qi);var Ji=n(76327),ea=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},ta="SECRET_COMBOBOX_MODE_DO_NOT_USE",na=function(e,t){var n,o=e.prefixCls,i=e.bordered,a=void 0===i||i,u=e.className,l=e.getPopupContainer,s=e.dropdownClassName,d=e.popupClassName,v=e.listHeight,h=void 0===v?256:v,m=e.placement,g=e.listItemHeight,y=void 0===g?32:g,b=e.size,A=e.disabled,w=e.notFoundContent,E=e.status,C=e.showArrow,x=ea(e,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","popupClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","showArrow"]),M=r.useContext(Qr.QO),S=M.getPopupContainer,P=M.getPrefixCls,F=M.renderEmpty,O=M.direction,N=M.virtual,k=M.dropdownMatchSelectWidth,R=r.useContext(ho.A),T=P("select",o),_=P(),D=(0,Ji.RQ)(T,O),I=D.compactSize,V=D.compactItemClassnames,L=r.useMemo(function(){var e=x.mode;if("combobox"!==e)return e===ta?"combobox":e},[x.mode]),H="multiple"===L||"tags"===L,j=void 0!==C?C:x.loading||!(H||"combobox"===L),W=(0,r.useContext)(Ri),z=W.status,U=W.hasFeedback,q=W.isFormItemInput,$=W.feedbackIcon,B=function(e,t){return t||e}(z,E);n=void 0!==w?w:"combobox"===L?null:(F||po)("Select");var K=function(e){var t=e.suffixIcon,n=e.clearIcon,o=e.menuItemSelectedIcon,i=e.removeIcon,a=e.loading,u=e.multiple,l=e.hasFeedback,s=e.prefixCls,c=e.showArrow,f=e.feedbackIcon,d=null!=n?n:r.createElement(zi,null),p=function(e){return r.createElement(r.Fragment,null,!1!==c&&e,l&&f)},v=null;if(void 0!==t)v=p(t);else if(a)v=p(r.createElement(Xi.A,{spin:!0}));else{var h="".concat(s,"-suffix");v=function(e){var t=e.open,n=e.showSearch;return p(t&&n?r.createElement(Zi,{className:h}):r.createElement(Yi,{className:h}))}}return{clearIcon:d,suffixIcon:v,itemIcon:void 0!==o?o:u?r.createElement(Hi,null):null,removeIcon:void 0!==i?i:r.createElement($i,null)}}((0,f.A)((0,f.A)({},x),{multiple:H,hasFeedback:U,feedbackIcon:$,showArrow:j,prefixCls:T})),Y=K.suffixIcon,X=K.itemIcon,G=K.removeIcon,Q=K.clearIcon,Z=(0,gr.A)(x,["suffixIcon","itemIcon"]),J=p()(d||s,(0,c.A)({},"".concat(T,"-dropdown-").concat(O),"rtl"===O)),ee=I||b||R,te=r.useContext(vo.A),ne=null!=A?A:te,re=p()((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)({},"".concat(T,"-lg"),"large"===ee),"".concat(T,"-sm"),"small"===ee),"".concat(T,"-rtl"),"rtl"===O),"".concat(T,"-borderless"),!a),"".concat(T,"-in-form-item"),q),function(e,t,n){return p()((0,c.A)((0,c.A)((0,c.A)((0,c.A)((0,c.A)({},"".concat(e,"-status-success"),"success"===t),"".concat(e,"-status-warning"),"warning"===t),"".concat(e,"-status-error"),"error"===t),"".concat(e,"-status-validating"),"validating"===t),"".concat(e,"-has-feedback"),n))}(T,B,U),V,u);return r.createElement(Gr,(0,f.A)({ref:t,virtual:N,dropdownMatchSelectWidth:k},Z,{transitionName:Di(_,_i(m),x.transitionName),listHeight:h,listItemHeight:y,mode:L,prefixCls:T,placement:void 0!==m?m:"rtl"===O?"bottomRight":"bottomLeft",direction:O,inputIcon:Y,menuItemSelectedIcon:X,removeIcon:G,clearIcon:Q,notFoundContent:n,className:re,getPopupContainer:l||S,dropdownClassName:J,showArrow:U||C,disabled:ne}))},ra=r.forwardRef(na);ra.SECRET_COMBOBOX_MODE_DO_NOT_USE=ta,ra.Option=mr,ra.OptGroup=vr;var oa=ra,ia=n(98587);const aa=["className","options","currentIndex"],ua=(0,r.forwardRef)((e,t)=>{let{className:n,options:o,currentIndex:i=0}=e,a=(0,ia.A)(e,aa);const{0:u,1:l}=(0,r.useState)(o[i]);return(0,r.useEffect)(()=>l(o[i]),[o,i]),r.createElement("div",Object.assign({role:"tabpanel"},a,{className:"select-tab"+(n?" "+n:""),ref:t}),r.createElement(oa,{labelInValue:!0,onSelect:l,options:o,popupClassName:"select-tab__dropdown",style:{width:132},value:u}),r.createElement("div",{className:"content"},u.value))});ua.displayName="SelectTab";var la=ua;var sa=e=>{let{className:t}=e;return r.createElement("article",{className:"external-access-page "+t},r.createElement("h1",null,"External Access"),r.createElement(s.A,null,"Normally, the context must be rendered within the component tree in order to make its store accessible - any attempt to the contrary leads to a ",r.createElement("code",null,"UsageError"),"."),r.createElement(s.A,null,"However, once rendered, its store becomes accessible both within its context component tree and externally."),r.createElement("h3",null,"How do I access the store externally?"),r.createElement(s.A,null,"This is done by obtaining a reference to the Provider component. Once obtained, its ",r.createElement("code",null,"current")," property ","(","i.e. which holds the referenced store object",")"," can be passed around to other parts of the application."),r.createElement(s.A,null,"When the reference is no longer needed, be sure to unsubscribe all observers attached through this store reference during this phase."),r.createElement(s.A,null,"For external access to the context, ",r.createElement("strong",null,"4")," store methods have been exposed. Namely:"),r.createElement("ol",{id:"external-apis"},r.createElement("li",null,r.createElement("strong",null,r.createElement("code",null,"store.getState()"),":")," Provides a static snapshot of the current state. Since v6.0.0, may accept a list of property paths to target properties within the state to fetch and return"),r.createElement("li",null,r.createElement("strong",null,r.createElement("code",null,"store.resetState()"),":")," Please see descriptions in the ",r.createElement(a.A,{to:"/concepts/store/resetstate"},"store")," page. Since v6.0.0, may accept a parameterless invocation resulting in a noop."),r.createElement("li",null,r.createElement("strong",null,r.createElement("code",null,"store.setState()"),":")," Please see descriptions in the ",r.createElement(a.A,{to:"/concepts/store/setstate"},"store")," page."),r.createElement("li",null,r.createElement("strong",null,r.createElement("code",null,"store.subscribe(...)")),r.createElement("table",null,r.createElement("tr",null,r.createElement("td",{style:{paddingRight:"0.5rem",verticalAlign:"top"}},"-"),r.createElement("td",null,"Provides an API for manual subscription to the state.")),r.createElement("tr",null,r.createElement("td",{style:{paddingRight:"0.5rem",verticalAlign:"top"}},"-"),r.createElement("td",null,"Accepts an observer function.")),r.createElement("tr",null,r.createElement("td",{style:{paddingRight:"0.5rem",verticalAlign:"top"}},"-"),r.createElement("td",null,"Returns a parameterless void function - the ",r.createElement("b",null,r.createElement("u",null,"unsubcriber")),"."))),r.createElement(la,{options:[{label:r.createElement("b",null,"As of: v6.0.0"),value:r.createElement(r.Fragment,null,r.createElement("pre",null,"store.subscribe((\n    changes : Changes<State>,\n    changedPaths : Array<Array<string>>,\n    netChanges : Partial<State>,\n    mayHaveChangesAt : (tokenizedPath : string[]) => boolean\n) => void) // => VoidFunction"),r.createElement("b",null,"Observer Callback Params"),r.createElement("br",null),r.createElement("ol",null,r.createElement("li",null,r.createElement("u",null,"changes:")," an object or array holding the original change request payload(s)."),r.createElement("li",null,r.createElement("u",null,"changedPaths:")," an array of tokenized property paths belonging to state properties changed during this request."),r.createElement("li",null,r.createElement("u",null,"netChanges:")," an object of the final state of all properties in state changed."),r.createElement("li",null,r.createElement("u",null,"mayHaveChangesAt:")," a function to confirm that a given property path is among the new changes. This path is to be supplied as a tokenized string (i.e. supply ",r.createElement("code",null,"['a', 'b', 'c', '0', 'r']")," for ",r.createElement("code",null,"'a.b.c[0].r'"),").")))},{label:r.createElement("b",null,"Legacy"),value:r.createElement(r.Fragment,null,r.createElement("pre",null,"store.subscribe((\n    changes: Changes<State>\n) => void ) // => VoidFunction"),r.createElement("b",null,"Observer Callback Params"),r.createElement("br",null),r.createElement("ol",null,r.createElement("li",null,r.createElement("u",null,"changes:")," an object or array holding the original change request payload(s).")))}]}))),r.createElement("h4",null,"Let's see some code!"),r.createElement("div",{className:"snippet-box"},r.createElement(u.A,null,"provider-demo.js"),r.createElement("div",null,"Making our Provider accessible to the parent component."),r.createElement(o.A,null,"import React, { forwardRef } from 'react';\nimport ObservableContext from './context'; // using example from the \"Getting Started Page\"\nimport Ui from './ui'; // using example from the \"Getting Started Page\"\n\nconst initState = {a: { b: { x: { y: { z: [ 2022 ] } } } }};\n\nconst ProviderDemo = forwardRef(( props, ref ) => {\n    // signify to parent the exit of the storeRef Provider on component unmount.\n    useEffect(() => () => setTimeout( () => props?.onDismount(), 0 ), []);\n    return (\n        <ObservableContext.Provider ref={ ref } value={ initState }>\n            <Ui />\n        </ObservableContext.Provider>\n    );\n};\nProviderDemo.displayName = 'ProviderDemo';\n\nexport default ProviderDemo;")),r.createElement("div",{className:"snippet-box"},r.createElement(u.A,null,"app.js"),r.createElement("div",null,"Grabbing a ref to the Provider component and sharing it with a class."),r.createElement(o.A,null,"import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport ProviderDemo from './provider-demo';\nimport StoreMonitor from './debug-monitor';\nconst App = () => {\n    const storeRef = useRef();\n    const [ refChangeCount, setRefChangeCount ] = useState( 0 );\n    const updateMonitor = useCallback(() => setRefChangeCount( c => c + 1 ), []);\n    const [ monitor ] = useState(() => new StoreMonitor( d => console.log( d ) ));\n    useEffect(() => {\n        monitor.source = storeRef.current;\n        return () => monitor.cleanup();\n    }, [ refChangeCount ]);\n    return (\n        <ProviderDemo\n            onDismount={ updateMonitor }\n            ref={ storeRef }\n        />\n    );\n}\nexport default App;")),r.createElement("div",{className:"snippet-box"},r.createElement(u.A,null,"debug-monitor.js"),r.createElement("div",null,"Using a simple class instance to montor and report changes in the store in realtime."),r.createElement(o.A,null,"class Monitor {\n    #onEvent;\n    #store;\n    #unsub;\n    constructor( onEvent, store ) {\n        this.onEvent = onEvent;\n        this.source = store;\n    }\n    set onEvent( handler ) { this.#onEvent = handler }\n    get source() { return this.#store }\n    set source( store ) {\n        if( store === this.#store ) { return }\n        this.cleanup();\n        if( !store ) { return }\n        this.#store = store;\n        this.#onEvent( this.#store.getState() );\n        this.#unsub = store.subscribe(\n            () => this.#onEvent( this.#store.getState() )\n        );\n    }\n    cleanup() {\n        this.#unsub?.();\n        this.#store = null;\n    }\n}\nexport default Monitor;")),r.createElement(i.A,{title:"Pro Tips"},r.createElement(s.A,null,"Store references are simply ReactJS references to the Eagle Eye Provider component. Therefore, after ",r.createElement("code",null,"unmounting")," the ",r.createElement("code",null,"Provider")," component, the ",r.createElement("code",null,"storeRef.current")," becomes empty. So therefore:"),r.createElement(l.A,null,r.createElement("div",null,"if the need exists to maintain the store beyond the life of the Provider, then keep a reference to the state snapshot returned by the last valid ",r.createElement("code",null,"storeRef.current.getState()")," call.")),r.createElement(l.A,null,r.createElement("div",null,"be sure to unsubscribe all external subscribers attached to the ",r.createElement("code",null,"Provider"),"'s store reference, at or prior to the ",r.createElement("code",null,"unmount")," phase of the ",r.createElement("code",null,"Provider")," component.")),r.createElement(s.A,null,"State references are always snapshots of the state at the time of access. In essence, the state returned by ",r.createElement("code",null,"storeRef.current.getState()")," are not affected by subsequent updates to the store's state. Any updates to this acquired state never affects the context's state. So therefore, the ",r.createElement("strong",null,"4")," considerations:"),r.createElement(l.A,null,r.createElement("div",null,"use only the ",r.createElement("code",null,"storeRef.current.setState(...)")," to update the context internal store.")),r.createElement(l.A,null,r.createElement("div",null,r.createElement("code",null,"storeRef.current.getState()")," must be used to obtain the current state value.")),r.createElement(l.A,null,r.createElement("div",null,"use your ",r.createElement("code",null,"storeRef.current.subscribe(...)")," to manually subscribe to state changes and refresh your current state value in realtime.")),r.createElement(l.A,null,r.createElement("div",null,"use the ",r.createElement("code",null,"unsubscriber")," returned by your storeRef's ",r.createElement("code",null,"subscribe(...)")," to unsubscribe from the store when needed."))))}},4732:function(e,t,n){n.d(t,{A:function(){return u}});var r=n(98587),o=n(96540);const i=["children","className"],a=(0,o.forwardRef)((e,t)=>{let{children:n,className:a}=e,u=(0,r.A)(e,i);return o.createElement("div",Object.assign({role:"paragraph"},u,{className:"paragraph"+(a?" "+a:""),ref:t}),o.Children.map(n,e=>e))});a.displayName="Paragraph";var u=a},7689:function(e,t,n){n.d(t,{A:function(){return u}});var r=n(98587),o=n(96540);const i=["children"],a=e=>{let{children:t}=e,n=(0,r.A)(e,i);return o.createElement("header",Object.assign({},n,{className:"segment-header"}),t)};a.displayName="SegmentHeader";var u=a},9372:function(e,t,n){n.d(t,{A:function(){return l}});var r=n(98587),o=n(96540),i=n(55851);const a=["title","children","className"],u=(0,o.memo)(e=>{let{children:t}=e;return!!o.Children.count(t)&&o.createElement(o.Fragment,null,o.createElement(i.A,null)," ","string"==typeof t?o.createElement("strong",null,t):t)});u.displayName="Alert.Header";var l=e=>{let{title:t,children:n,className:i=""}=e,l=(0,r.A)(e,a);return o.createElement("section",Object.assign({},l,{className:"alert"+(i.length?" "+i:"")}),o.createElement(u,null,t),o.createElement("div",{className:"content"},o.Children.map(n,e=>e)))}},22990:function(e,t,n){n.d(t,{A:function(){return a}});var r=n(96540);const o=e=>{let{className:t}=e;return"list-item"+(t?" "+t:"")},i=e=>{let{children:t}=e;const n=(0,r.useMemo)(()=>{var e;return{className:o(t.props),role:null!==(e=t.props.role)&&void 0!==e?e:"listitem"}},[t.props.className,t.props.role]);return(0,r.cloneElement)(t,n)};i.displayName="ListItem";var a=i},46007:function(e,t,n){var r=n(24994),o=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(12897)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var u=i?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(96540)),u=r(n(75326)),l=r(n(3827));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var c=function(e,t){return a.createElement(l.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:u.default}))},f=a.forwardRef(c);t.default=f},55851:function(e,t,n){n.d(t,{A:function(){return u}});var r=n(96540),o=n(89800),i=n.n(o);const a=(0,r.memo)(()=>r.createElement(i(),{style:{fontSize:24},twoToneColor:["#f40","#fd0"]}));a.displayName="WarningIcon";var u=a},75326:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z",fill:e}},{tag:"path",attrs:{d:"M172.2 828.1h679.6L512 239.9 172.2 828.1zM560 720a48.01 48.01 0 01-96 0 48.01 48.01 0 0196 0zm-16-304v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8z",fill:t}},{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8z",fill:e}}]}},name:"warning",theme:"twotone"}},89800:function(e,t,n){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=n(46007))&&r.__esModule?r:{default:r};t.default=o,e.exports=o}}]);
//# sourceMappingURL=component---src-pages-external-access-tsx-587b57b6a5700a71767a.js.map