"use strict";(self.webpackChunkeagleeye_dev=self.webpackChunkeagleeye_dev||[]).push([[633],{75326:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z",fill:e}},{tag:"path",attrs:{d:"M172.2 828.1h679.6L512 239.9 172.2 828.1zM560 720a48.01 48.01 0 01-96 0 48.01 48.01 0 0196 0zm-16-304v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8z",fill:t}},{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8z",fill:e}}]}},name:"warning",theme:"twotone"}},89800:function(e,t,n){var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=(a=n(46007))&&a.__esModule?a:{default:a};t.default=l,e.exports=l},46007:function(e,t,n){var a=n(24994),l=n(73738);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(12897)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=l(e)&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var c=r?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(a,s,c):a[s]=e[s]}return a.default=e,n&&n.set(e,a),a}(n(96540)),c=a(n(75326)),o=a(n(3827));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var u=function(e,t){return s.createElement(o.default,(0,r.default)((0,r.default)({},e),{},{ref:t,icon:c.default}))},d=s.forwardRef(u);t.default=d},46097:function(e,t,n){n.r(t);var a=n(96540),l=n(9372),r=n(16040),s=n(51314),c=n(61059),o=n(55851);t.default=e=>{let{className:t}=e;return a.createElement("article",{className:`concept-store-setstate-page ${t}`},a.createElement("h1",null,a.createElement("code",null,"store.setState")," Usage"),a.createElement("p",null,a.createElement("strong",null,"Signature:"),a.createElement("pre",null,"(changes: Changes<State>) => void;")),a.createElement("h3",null,"About the store setState method"),a.createElement("blockquote",{style:{margin:"1em 40px"}},"[This store's] internal state is ",a.createElement("strong",null,a.createElement("u",null,"immutable"))," and ",a.createElement("strong",null,a.createElement("u",null,"private")),".",a.createElement("br",null),"Direct mutation attempts on its properties have no effect."),a.createElement("p",null,"New updates are merged into state by default."),a.createElement("p",null,"So only supply the exact changes to be merged ",a.createElement("strong",null,a.createElement("i",null,"(","i.e. do not spread the new state changes into the current state as is commonly done in React development",")")),"."),a.createElement("p",null,"And to overwrite a slice of state, use the ",a.createElement(r.A,{to:"/concepts/store/setstate/tags"},"tag")," command."),a.createElement(o.A,null)," ",a.createElement("strong",null,a.createElement("i",null,"Do this:")),a.createElement("pre",null,"setState({ stateKey0: changes0 });"),a.createElement(o.A,null)," ",a.createElement("strong",null,a.createElement("i",null,"Not this:")),a.createElement("pre",null,"setState({\n    ...state,\n    stateKey0: {\n        ...state.stateKey0,\n        ...changes0\n    }\n});"),a.createElement("h3",{id:"batched-update"},"Batched Update"),a.createElement("p",null,"provides a way to update the state as a transaction of several state changes."),a.createElement("p",null,"This can be achieved by collecting a series of state changes in an array and passing that array as an argument to the ",a.createElement("code",null,"store.setState")," method."),a.createElement("p",null,"The state changes are resolved sequentially from ",a.createElement("code",null,"index 0")," to the ",a.createElement("code",null,"last index"),"."),a.createElement("p",null,a.createElement(r.A,{to:"/concepts/client"},"Clients")," are only notified at batched update completion."),a.createElement(o.A,null)," ",a.createElement("strong",null,a.createElement("i",null,"Do this:")),a.createElement("pre",null,"setState([\n    { stateKey0: changes0 },\n    { stateKey1: changes1 },\n    // et cetera ... et cetera\n]);"),a.createElement(o.A,null)," ",a.createElement("strong",null,a.createElement("i",null,"Not this:")),a.createElement("pre",null,"setState([\n    { ...state, stateKey0: { ...state.stateKey0, ...changes0 } },\n    { ...state, stateKey1: { ...state.stateKey1, ...changes1 } },\n    // et cetera ... et cetera\n]);"),a.createElement("h3",{id:"indexing"},"Indexing"),a.createElement("p",null,"Traditionally, array state properties are updated by a new array replacement. This overwrites the existing state property."),a.createElement("p",null,"Hence the need for ",a.createElement("code",null,"indexing"),". Indexing provides a mechanism for updating array state properties at specific indexes using an indexed state change object."),a.createElement(c.A,null,"The store also recognizes and resolves negative indexes when present in the indexed state change object. See additional ",a.createElement(r.A,{to:"/concepts/store/setstate#neg-idx-tip"},"tip")," below."),a.createElement("strong",null,"Example:"),a.createElement(s.A,null,"// Given the following array bearing state object:\nconst state = { a: { b: [ { x: 7, y: 8, z: 9 } ] }, j: 10 };\n\n// The following will override the existing array.\nstore.setState({ a: { b: [ { y: 30 }, 22 ] } });\n// updates the state to: { a: { b: [ { y: 30 }, 22 ] }, j: 10 };\n\n// The followinng will update the existing array at indexes.\nstore.setState({ a: { b: { 0: { y: 30 }, 1: 22 } } });\n// updates the state to: { a: { b: [ { x: 7, y: 30, z: 9 }, 22 ] }, j: 10 };\n\n// The followinng will update the existing array at indexes.\nstore.setState({ a: { b: { '-1': { y: 30 }, 1: 22 } } });\n// updates the state to: { a: { b: [ { x: 7, y: 30, z: 9 }, 22 ] }, j: 10 };\n\n// The previous 2 statements are functionally equivalent to the following:\nconst [ first, second, ...rest ] = state.a.b;\nstore.setState({ ...state, a: { ...state.a, b: [ { ...first, y: 30 }, 22, ...rest ] } });\n// Refrain from doing this, please!"),a.createElement(l.A,{id:"neg-idx-tip",title:a.createElement("i",null,a.createElement("strong",null,"Tip:"))},"Negative indexing pointing at an out-of-bounds index is ignored."),a.createElement("h3",{id:"setstate-tags"},"Overwriting state using the tag commands"),a.createElement("div",null,"Please see full info on tag commands ",a.createElement(r.A,{to:"/concepts/store/setstate/tags"},"here"),"."))}},9372:function(e,t,n){n.d(t,{A:function(){return s}});var a=n(96540),l=n(55851);const r=(0,a.memo)((e=>{let{children:t}=e;return!!a.Children.count(t)&&a.createElement(a.Fragment,null,a.createElement(l.A,null)," ","string"==typeof t?a.createElement("strong",null,t):t)}));r.displayName="Alert.Header";var s=e=>{let{title:t,children:n,className:l="",...s}=e;return a.createElement("section",Object.assign({},s,{className:"alert"+(l.length?` ${l}`:"")}),a.createElement(r,null,t),a.createElement("div",{className:"content"},a.Children.map(n,(e=>e))))}},55851:function(e,t,n){n.d(t,{A:function(){return c}});var a=n(96540),l=n(89800),r=n.n(l);const s=(0,a.memo)((()=>a.createElement(r(),{style:{fontSize:24},twoToneColor:["#f40","#fd0"]})));s.displayName="WarningIcon";var c=s},61059:function(e,t,n){n.d(t,{A:function(){return r}});var a=n(96540);const l=e=>{let{children:t}=e;return a.createElement("p",{className:"note-pad"},a.createElement("strong",{className:"title"},"Note:")," ",a.Children.map(t,(e=>e)))};l.displayName="NotePad";var r=l}}]);
//# sourceMappingURL=component---src-pages-concepts-store-setstate-index-tsx-7aab326bc782d7328841.js.map