{"version":3,"file":"component---src-pages-getting-started-tsx-23611c488526f20a526e.js","mappings":"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","sources":["webpack://eagleeye-dev/./src/partials/paragraph/component.tsx","webpack://eagleeye-dev/./src/partials/segment-header/component.tsx","webpack://eagleeye-dev/./src/pages/getting-started.tsx","webpack://eagleeye-dev/./src/partials/pad/note/component.tsx"],"sourcesContent":["import type { NamedExoticComponent } from 'react';\r\n\r\nimport React, { Children, forwardRef } from 'react';\r\n\r\nimport './style.scss';\r\n\r\nexport type Props = JSX.IntrinsicElements[ \"div\" ];\r\n\r\nconst Paragraph : NamedExoticComponent<Props> = forwardRef<\r\n    HTMLDivElement, Props\r\n>(({ children, className, ...props }, ref ) => (\r\n    <div\r\n        role=\"paragraph\"\r\n        { ...props }\r\n        className={ `paragraph${ className ? ` ${ className }` : '' }` }\r\n        ref={ ref }\r\n    >\r\n        { Children.map( children, c => c ) }\r\n    </div>\r\n));\r\n\r\nParagraph.displayName = 'Paragraph';\r\n\r\nexport default Paragraph;","import React from 'react';\r\n\r\nimport './style.scss';\r\n\r\nexport interface Props {\r\n    children : React.ReactNode,\r\n    id? : string\r\n};\r\n\r\nconst Header : React.FC<Props> = ({ children, ...props }) => (\r\n    <header { ...props } className=\"segment-header\">\r\n        { children }\r\n    </header>\r\n);\r\n\r\nHeader.displayName = 'SegmentHeader';\r\n\r\nexport default Header;","import type { HeadFC } from 'gatsby';\r\n\r\nimport type { PageProps } from '../page-context';\r\n\r\nimport React from 'react';\r\n\r\nimport Anchor from '../partials/anchor';\r\nimport CodeBlock from '../partials/code-block';\r\nimport Header from '../partials/segment-header';\r\nimport NotePad from '../partials/pad/note';\r\nimport Paragraph from '../partials/paragraph';\r\n\r\nconst creatorCode =\r\n`import { createContext } from '@webkrafters/react-observable-context';\r\nexport default createContext();`\r\n\r\nconst providerCode =\r\n`import React, { useEffect, useState } from 'react';\r\nimport ObservableContext from './context';\r\nimport Ui from './ui';\r\n\r\nconst createInitialState = c = ({\r\n    a: { b: { c, x: { y: { z: [ 2022 ] } } } }\r\n});\r\n\r\nconst ProviderDemo = ({ ageInMinutes: c = 0 }) => {\r\n    \r\n    const [ value, setValue ] = useState(() => createInitialState( c ));\r\n\r\n    useEffect(() => {\r\n        // similar to  \\`store.setState\\`, use the following to update\r\n        // only the changed slice of the context internal state.\r\n        // Please use the \\`Set State\\` link in the TOC for more details.\r\n        setValue({ a: { b: { c } } }); // OR\r\n        // setValue({ a: { b: { c: { '@@REPLACE': c } } } });\r\n        // Do not do the following: it will override the context internal state.\r\n        // setValue({ ...value, a: { ...value.a, b: { ...value.a.b, c } } });\r\n    }, [ c ]);\r\n\r\n    return (\r\n        <ObservableContext.Provider value={ value }>\r\n            <Ui />\r\n        </ObservableContext.Provider>\r\n    );\r\n};\r\nProviderDemo.displayName = 'ProviderDemo';\r\n\r\nexport default ProviderDemo;`\r\n\r\nconst connectorCode =\r\n`import React, { useCallback, useEffect } from 'react';\r\nimport { connect } from '@webkrafters/react-observable-context';\r\nimport ObservableContext from './context';\r\n\r\nexport const YearText = ({ data }) => ( <div>Year: { data.year }</div> );\r\n\r\nexport const YearInput = ({ data, resetState, setState }) => {\r\n    const onChange = useCallback( e => setState({\r\n        a: { b: { x: { y: { z: { 0: e.target.value } } } } }\r\n    }), [ setState ]);\r\n\r\n    useEffect(() => {\r\n        data.year > 2049 && resetState([ 'a.b.c' ]);\r\n    }, [ data.year ]);\r\n\r\n    return ( <div>Year: <input type=\"number\" onChange={ onChange } /></div> );\r\n};\r\n\r\nconst withConnector = connect( ObservablContext, { year: 'a.b.x.y.z[0]' } );\r\nconst Client1 = withConnector( YearText );\r\nconst Client2 = withConnector( YearInput );\r\n\r\nconst Ui = () => (\r\n    <div>\r\n        <Client1 />\r\n        <Client2 />\r\n    </div>\r\n);\r\n\r\nexport default Ui;`\r\n\r\nconst useContextCode =\r\n`import React, { memo, useCallback, useEffect } from 'react';\r\nimport { useContext } from '@webkrafters/react-observable-context';\r\nimport ObservableContext from './context';\r\n\r\nconst selectorMap = { year: 'a.b.x.y.z[0]' };\r\n\r\nconst Client1 = memo(() => { // memoize to prevent 'no-change' renders from the parent.\r\n    const { data } = useContext( ObservableContext, selectorMap );\r\n    return ( <div>Year: { data.year }</div> );\r\n});\r\n\r\nconst Client2 = memo(() => { // memoize to prevent 'no-change' renders from the parent.\r\n\r\n    const { data, setState, resetState } = useContext( ObservableContext, selectorMap );\r\n\r\n    const onChange = useCallback( e => setState({\r\n        a: { b: { x: { y: { z: { 0: e.target.value } } } } }\r\n    }), [ setState ]);\r\n\r\n    useEffect(() => {\r\n        data.year > 2049 && resetState([ 'a.b.c' ]);\r\n    }, [ data.year ]);\r\n\r\n    return ( <div>Year: <input type=\"number\" onChange={ onChange } /></div> );\r\n});\r\n\r\nconst Ui = () => (\r\n    <div>\r\n        <Client1 />\r\n        <Client2 />\r\n    </div>\r\n);\r\n\r\nexport default Ui;`\r\n\r\nconst setupCode =\r\n`import React, { useEffect, useState } from 'react';\r\nimport ProviderDemo from './provider-demo';\r\n\r\nconst MILLIS_PER_MINUTE = 6e4;\r\n\r\nlet numCreated = 0;\r\n\r\nconst App = () => {\r\n    const [ age, updateAge ] = useState( 0 );\r\n    const [ testNumber ] = useState( () => ++numCreated );\r\n\r\n    useEffect(() => {\r\n        const t = setTimeout(\r\n            () => updateAge( age => age + 1 ),\r\n            MILLIS_PER_MINUTE\r\n        ); \r\n        return () => clearTimeout( t );\r\n    }, [ age ]);\r\n\r\n    return (\r\n        <div>\r\n            <h2>App instance #: { testNumber }</H2>\r\n            <ProviderDemo ageInMinutes={ age } />\r\n        </div>\r\n    );\r\n}\r\nexport default App;`\r\n\r\nconst GettingStartedPage : React.FC<PageProps> = ({ className }) => (\r\n    <article className={ `getting-started-page ${ className }` }>\r\n        <h1>Getting Started</h1>\r\n        <Paragraph className=\"snippet-intro\" id=\"install\">\r\n            Eagle Eye context and the React.Context API share a similar setup flow. Let us begin by installing the Eagle Eye context package.\r\n        </Paragraph>\r\n        <Paragraph className=\"snippet-box\">\r\n            <CodeBlock isInline>\r\n                npm install --save react-eagleeye\r\n            </CodeBlock>\r\n        </Paragraph>\r\n        <Paragraph className=\"snippet-intro\" id=\"create-context-usage\">\r\n            <h3>Creating the context store</h3>\r\n            To obtain a fresh context store, just call the parameterless <code>createContext()</code> function. \r\n        </Paragraph>\r\n        <Paragraph className=\"snippet-box\">\r\n            <Header>context.js</Header>\r\n            <CodeBlock>{ creatorCode }</CodeBlock>\r\n        </Paragraph>\r\n        <div className=\"snippet-intro\" id=\"provider-usage\">\r\n            <h3>Providing the context store</h3>\r\n            <Paragraph>Similar to the React.Context API, you can make the context store available to any section of the component tree by wrapping it in the context store's Provider.</Paragraph>\r\n            <Paragraph>Further readings on the Eagle Eye Context Provider could be found <Anchor to=\"/concepts/provider\">here</Anchor>.</Paragraph>\r\n        </div>\r\n        <Paragraph className=\"snippet-box\">\r\n            <Header>provider-demo.js</Header>\r\n            <CodeBlock>{ providerCode }</CodeBlock>\r\n        </Paragraph>\r\n        <div className=\"snippet-intro\" id=\"connect-usage\">\r\n            <h3>Consuming the context store</h3>\r\n            <Paragraph>There are two ways of consuming the Eagle Eye context store: The HOC method and the React Hook method.</Paragraph>\r\n            <Paragraph>Let's tackle the HOC method first. This method uses the <code>connect(...)</code> HOC function to wire up the context store to your consumer component.</Paragraph>\r\n            <Paragraph>It embodies the \"set-it-and-forget-it\" paradigm. Just set up a list of property paths to state slices to observe { '(' }see <Anchor to=\"/concepts/selector-map\">Selector Map</Anchor>{ ')' }. Context takes care of the rest.</Paragraph>\r\n            <Paragraph>The following is a sample of the HOC consumer method.</Paragraph>\r\n        </div>\r\n        <Paragraph className=\"snippet-box\">\r\n            <Header>ui.js</Header>\r\n            <CodeBlock>{ connectorCode }</CodeBlock>\r\n        </Paragraph>\r\n        <div className=\"snippet-intro\" id=\"usecontext-usage\">\r\n            <h3>Consuming the context store (React Hook method)</h3>\r\n            <Paragraph>The following shows how to consume the Eagle Eye context store through the hook method.</Paragraph>\r\n            <Paragraph>This method uses the <code>useContext(...)</code> function to expose the store to the consumer component.</Paragraph>\r\n            <Paragraph><NotePad>In addition to setting up a map of property paths to state slices to observe { '(' }see <Anchor to=\"/concepts/selector-map\">Selector Map</Anchor>{ ')' }, the consumer compoent may have to be wrapped in a <code>React.memo(...)</code> HOC to shield it from cascading rerenders from parent/anscestor components.</NotePad></Paragraph>\r\n        </div>\r\n        <Paragraph className=\"snippet-box\">\r\n            <Header>ui.js</Header>\r\n            <CodeBlock>{ useContextCode }</CodeBlock>\r\n        </Paragraph>\r\n        <Paragraph className=\"snippet-intro\">\r\n            Wiring up your Eagle Eye context to the rest of the application is identical to the React.Context API. The following is a contrived snippet to demonstrate.\r\n        </Paragraph>\r\n        <Paragraph className=\"snippet-box\">\r\n            <Header>app.js</Header>\r\n            <CodeBlock>{ setupCode }</CodeBlock>\r\n        </Paragraph>\r\n    </article>\r\n);\r\n\r\nexport default GettingStartedPage;\r\n\r\nexport const Head : HeadFC = () => (\r\n    <title>Getting Started</title>\r\n);\r\n","import React, { Children } from 'react';\r\n\r\nimport './style.scss';\r\n\r\nconst NotePad : React.FC<{children: React.ReactNode}> = ({ children }) => (\r\n    <p className=\"note-pad\">\r\n        <strong className=\"title\">Note:</strong>\r\n        { ' ' }\r\n        { Children.map( children, c => c ) }\r\n    </p>      \r\n);\r\n\r\nNotePad.displayName = 'NotePad';\r\n\r\nexport default NotePad;\r\n\r\n"],"names":["Paragraph","forwardRef","_ref","ref","children","className","props","_objectWithoutPropertiesLoose","_excluded","React","Object","assign","role","Children","map","c","displayName","Header","id","CodeBlock","isInline","Anchor","to","NotePad","Head"],"sourceRoot":""}